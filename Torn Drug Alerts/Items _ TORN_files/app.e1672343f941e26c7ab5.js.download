!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="64711c4f-80a1-4b43-930d-74bd12347399",e._sentryDebugIdIdentifier="sentry-dbid-64711c4f-80a1-4b43-930d-74bd12347399")}catch(e){}}(),("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"master@952a2eac37f09c6ad92401841c8bb1773a9fc628"},(self.webpackChunk_torn_loadouts=self.webpackChunk_torn_loadouts||[]).push([[524],{8401:function(e,t,n){var r=n(1594),o=n.n(r),a=n(5873),s=(n(3416),n(7997)),c=n(2419),u=n(9870),i=n.n(u),l=n(9067),d="preloader___GY6ST",f="dots___u98yG",m="dot1___Wevul dot___CkNfr",p="dot2___gm9mT dot___CkNfr",b="dot3___Smcpo dot___CkNfr",v="dot4___f7ppM dot___CkNfr",y=function(e){var t=e.className;return o().createElement("div",{className:"".concat(d," ").concat(t)},o().createElement("div",{className:f},o().createElement("span",{className:m}),o().createElement("span",{className:p}),o().createElement("span",{className:b}),o().createElement("span",{className:v})))};y.propTypes={className:n.n(l)().string};var g,h=y,_="logToggler___A_s1Z",E="infoIcon___GLFcq",w="messageWrap___phpSP",I="messageContent___LhCmx",k="activeLog___gnNEc",S="loadingIndicator___otZve",C=(g=function(e,t){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},g(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),M=function(e){function t(t){var n=e.call(this,t)||this;return Object.defineProperty(n,"withLog",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=n.props.log;return e&&e.length>0}}),Object.defineProperty(n,"withActiveLog",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=n.state.showLog;return n.withLog()&&e}}),Object.defineProperty(n,"onToggleLog",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=n.state.showLog;n.setState({showLog:!e})}}),Object.defineProperty(n,"serverRenderedDOM",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=n.props.msg;return(null==e?void 0:e.match)&&e.match(/<div[\s\S]*.*<\/div>/gim)||!1}}),Object.defineProperty(n,"getMessage",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=n.props.msg;return"object"==typeof e?JSON.stringify(e):e}}),Object.defineProperty(n,"renderLogToggler",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=n.state.showLog?"Hide log":"Show log";return o().createElement("a",{className:_,onClick:n.onToggleLog},e)}}),Object.defineProperty(n,"renderSSRMessage",{enumerable:!0,configurable:!0,writable:!0,value:function(){return o().createElement("div",{dangerouslySetInnerHTML:{__html:n.getMessage()}})}}),Object.defineProperty(n,"renderLogList",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=n.props,t=e.log,r=e.showDangerously;if(!n.state.showLog)return null;var a=t.map((function(e,t){return r?o().createElement("li",{key:t,dangerouslySetInnerHTML:{__html:e}}):o().createElement("li",{key:t},e)}));return o().createElement("ul",{className:"t-gray-9 p10 log-list"},a)}}),Object.defineProperty(n,"renderMessage",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e,t,r,a=n.props,s=a.loading,c=a.showDangerously,u=null!==(r=null===(t=(e=n.props).renderContent)||void 0===t?void 0:t.call(e))&&void 0!==r?r:n.getMessage();return s?o().createElement("div",{className:i()("msg right-round",I)},o().createElement(h,{className:S})):n.withLog()?o().createElement("div",{className:i()("msg right-round",I)},o().createElement("div",{className:"change-logger"},function(e){var t=e.showDangerously,n=e.message;return t?o().createElement("div",{dangerouslySetInnerHTML:{__html:n}}):o().createElement("p",null,n)}({showDangerously:c,message:u}),n.renderLogList(),n.renderLogToggler())):c?o().createElement("div",{className:i()("msg right-round",I),dangerouslySetInnerHTML:{__html:u}}):o().createElement("div",{className:i()("msg right-round",I)},u)}}),Object.defineProperty(n,"renderRegularMessage",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e,t=n.props,r=t.color,a=t.customClass;return o().createElement("div",{className:i()("info-msg-cont border-round m-top10",r,a)},o().createElement("div",{className:i()("info-msg border-round",w,(e={},e[k]=n.withActiveLog(),e))},o().createElement("i",{className:E}),o().createElement("div",{className:"delimiter"},n.renderMessage())))}}),Object.defineProperty(n,"renderContainer",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return void 0===e&&(e=!1),o().createElement("div",{className:"wrapper",role:"alert","aria-live":"polite"},e?n.renderSSRMessage():n.renderRegularMessage(),!n.props.isDelimiterHidden&&o().createElement("hr",{className:"page-head-delimiter m-top10 m-bottom10"}))}}),n.state={showLog:!1},n}return C(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.props.loading?this.renderContainer():this.props.msg||this.props.renderContent?this.props.msg instanceof Error?(console.error(this.props.msg),this.renderContainer()):this.serverRenderedDOM()?this.renderContainer(!0):this.renderContainer():null}}),t}(o().Component),D=M,A=function(){var e=this;Object.defineProperty(this,"_observers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscribe",{enumerable:!0,configurable:!0,writable:!0,value:function(t){e._observers.push(t)}}),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:function(t){e._observers.filter((function(e){return e!==t}))}}),Object.defineProperty(this,"unsubscribeAll",{enumerable:!0,configurable:!0,writable:!0,value:function(){e._observers.splice(0,e._observers.length)}}),Object.defineProperty(this,"notify",{enumerable:!0,configurable:!0,writable:!0,value:function(t){e._observers.forEach((function(e){return e(t)}))}}),Object.defineProperty(this,"getUnits",{enumerable:!0,configurable:!0,writable:!0,value:function(){return e._observers}}),this._observers=[]},T=A,R=function(e){return!!e.classList.contains("dark-mode")},x=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(e){function t(){var t=e.call(this)||this;return Object.defineProperty(t,"_targetNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_mutationsConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_classListMutationCheck",{enumerable:!0,configurable:!0,writable:!0,value:function(e){e.forEach((function(e){"attributes"===e.type&&t.notify(R(t._targetNode))}))}}),Object.defineProperty(t,"_connectSubscriber",{enumerable:!0,configurable:!0,writable:!0,value:function(e){"function"==typeof e&&t.subscribe(e)}}),Object.defineProperty(t,"_checkInitRun",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.notify(R(t._targetNode))}}),Object.defineProperty(t,"_startSubscription",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return function(n){t._connectSubscriber(n),t._checkInitRun(),e.observe(t._targetNode,t._mutationsConfig)}}}),Object.defineProperty(t,"_finishSubscription",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return function(){t.unsubscribeAll(),e.disconnect()}}}),Object.defineProperty(t,"run",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=new MutationObserver(t._classListMutationCheck);return{subscribeOnDarkMode:t._startSubscription(e),unsubscribeFromDarkMode:t._finishSubscription(e)}}}),t._targetNode=document.body,t._mutationsConfig={attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1},t}return x(t,e),t}(T),L=(0,(new O).run)(),N=L.subscribeOnDarkMode,P=L.unsubscribeFromDarkMode,U=function(e){return e.browser};function j(e){var t=(0,r.useState)(null),n=t[0],o=t[1],a=(0,r.useCallback)((function(t){n&&!n.contains(t.target)&&e()}),[n,e]);return(0,r.useEffect)((function(){return n&&document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[n,a]),{containerRef:n,setContainerRef:o}}var F=n(7646),K=n.n(F),B=function(e,t){return e<t?1:e>t?-1:0},q="Enter",J="Tab",H="Escape";function z(e,t){return t?(0,r.useCallback)((function(n){n.key===t&&e(n)}),[e]):(0,r.useCallback)((function(t){e(t)}),[e])}function G(e){return z(e,J)}function V(e){return z(e,q)}function W(e){return z(e,H)}function Q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.useCallback)((function(t){e.forEach((function(e){return e(t)}))}),[e])}function Y(e){var t=(0,r.useState)(!1),n=t[0],o=t[1],a=(0,r.useCallback)((function(){o(!0)}),[o]),s=(0,r.useCallback)((function(){o(!1),e.removeEventListener("focus",s)}),[e,o]);return(0,r.useEffect)((function(){e&&n&&(e.removeEventListener("focus",s),e.addEventListener("focus",s))}),[e,n,s]),e&&n&&setTimeout((function(){e.focus()})),{focused:n,setFocused:o,focus:a}}var X,Z=function(e){return![void 0,null].includes(e)},$=function(e){return Z(e)&&Array.isArray(e)},ee=function(e){return Z(e)&&!$(e)&&e instanceof Object},te=function(){return te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},te.apply(this,arguments)},ne=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},re=function(){return!["www.torn.com","torn.com"].includes(window.location.host)}()?".dev-www.torn.com":".torn.com",oe=function(){function e(){var e=this;Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_setState",{enumerable:!0,configurable:!0,writable:!0,value:function(t){e._state=te(te({},e._state),t)}}),Object.defineProperty(this,"_isComplexityStore",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return $(e)||ee(e)}}),Object.defineProperty(this,"_isLocalStorageAvailable",{enumerable:!0,configurable:!0,writable:!0,value:function(){try{var e=window.localStorage,t="__isLocalStorageAvailable__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}}),Object.defineProperty(this,"_setInitPayload",{enumerable:!0,configurable:!0,writable:!0,value:function(t,n){var r=e._getCookie(n),o=localStorage.getItem(n);t&&!e._state.useCookieStore&&Z(r)?(localStorage.setItem(n,r),e._deleteCookie(n)):t&&!e._state.useCookieStore||!Z(o)||(e._setCookie(n,o),localStorage.removeItem(n))}}),Object.defineProperty(this,"_getCookie",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=document.cookie.split("; ").find((function(t){return t.startsWith(e)}));return t?t.split("=")[1]:null}}),Object.defineProperty(this,"_setCookie",{enumerable:!0,configurable:!0,writable:!0,value:function(e,t){document.cookie="".concat(e,"=").concat(t,";path=").concat("/",";domain=").concat(re,';expires=Fri, 31 Dec 9999 23:59:59 GMT";')}}),Object.defineProperty(this,"_normalizeStoreData",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return e._isComplexityStore(t)?JSON.stringify(t):String(t)}}),Object.defineProperty(this,"_setStore",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var n=t.storeKey,r=t.storeData;try{var o=e._normalizeStoreData(r);if(e._isLocalStorageAvailable()&&!e._state.useCookieStore)window.localStorage.setItem(n,o);else e._setCookie(n,o)}catch(e){throw new Error("Some error during localStorage data set: ".concat(e))}}}),Object.defineProperty(this,"hasKey",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var n=t.storeKey;if(!n)return console.error("Store key was missed: ".concat(n)),null;var r=null;e._isLocalStorageAvailable()&&!e._state.useCookieStore?r=window.localStorage.getItem(n):r=e._getCookie(n);return Z(r)}}),Object.defineProperty(this,"addStore",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var n=t.storeKey,r=t.storeData;if(Z(r)&&n)return e._setStore({storeKey:n,storeData:r}),e.getStore({storeKey:n});console.error("Some data missed among your initialization config: ",n,r)}}),Object.defineProperty(this,"updateStore",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var n=t.storeKey,r=t.storeData;return n&&Z(r)?(e._setStore({storeKey:n,storeData:r}),e.getStore({storeKey:n})):(console.error("Something wrong with init data: ".concat(n,", ").concat(r)),null)}}),Object.defineProperty(this,"getStore",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var n=t.storeKey;if(!n)return console.error("Store key was missed: ".concat(n)),null;var r=null;e._isLocalStorageAvailable()&&!e._state.useCookieStore?r=window.localStorage.getItem(n):r=e._getCookie(n);try{return JSON.parse(r)}catch(e){return r}}}),Object.defineProperty(this,"removeStore",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var n=t.storeKey;try{if(e._isLocalStorageAvailable()&&!e._state.useCookieStore)window.localStorage.removeItem(n);else e._deleteCookie(n)}catch(e){throw new Error("Some problem occurred during storage removing, ".concat(e))}}}),Object.defineProperty(this,"addToStore",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var n=t.storeKey,r=t.storeData;if(!Z(r)||!n)return console.error("Store was not updated! Error in config: ",n,r),null;var o=e.getStore({storeKey:n}),a=$(o)&&ne(ne([],o,!0),[r],!1)||ee(o)&&te(te({},o),r);return e._setStore({storeKey:n,storeData:a}),e.getStore({storeKey:n})}}),Object.defineProperty(this,"removeFromStore",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var n,r=t.storeKey,o=t.valID,a=t.valMatch,s=e.getStore({storeKey:r});return e._setStore({storeKey:r,storeData:$(s)&&ne([],o?s.filter((function(e){return e[o]!==a})):s.filter((function(e){return e!==a})),!0)||ee(s)&&(n={},Object.keys(s).forEach((function(e){e===o&&s[o]===a||(n[e]=s[e])})),n)}),e.getStore({storeKey:r})}}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var n=t.storeKey,r=t.useCookieStore,o=e._isLocalStorageAvailable();e._setState({useCookieStore:r,isLocalStorageAvailable:o}),e._setInitPayload(o,n)}}),this._state={useCookieStore:!1,isLocalStorageAvailable:!1}}return Object.defineProperty(e.prototype,"_deleteCookie",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._getCookie(e)&&(document.cookie="".concat(e,'="";path=').concat("/",";domain=").concat(re,';expires=Thu, 01 Jan 1970 00:00:01 GMT";'))}}),e}(),ae=oe,se=((X=new oe).hasKey,X.addStore,X.updateStore,X.getStore,X.removeStore,X.removeFromStore,X.addToStore,X.init,new ae);function ce(e){var t=e.lenght,n=(0,r.useState)([]),o=n[0],a=n[1],s=(0,r.useState)(null),c=s[0],u=s[1],i=(0,r.useState)(t),l=i[0],d=i[1],f=(0,r.useCallback)((function(e){var n,r;null===(n=o[r=e?c<t-1?c+1:0:c>0?c-1:t-1])||void 0===n||n.focus(),u(r)}),[c,t,o]);return{onContainerKeyDown:(0,r.useCallback)((function(e){"ArrowLeft"===e.key?(f(!1),e.stopPropagation()):"ArrowRight"===e.key&&(f(!0),e.stopPropagation())}),[c,t,o]),setItemRef:(0,r.useCallback)((function(e,n){t!==l&&(a([]),d(t)),o[e]=n,a(o)}),[l,t]),onItemFocus:(0,r.useCallback)((function(e){e!==c&&u(e)}),[c,u])}}var ue,ie=n(763),le=n(2573),de="Primary",fe="Secondary",me="Melee",pe="Temporary",be="Defensive",ve=((ue={})[1]="Standard",ue[2]="Hollow point",ue[4]="Tracer",ue[3]="Piercing",ue[5]="Incendiary",ue),ye="UPGRADE_STATE_EQUIPED",ge="UPGRADE_STATE_FREE",he="UPGRADE_STATE_EQUIPED_ON_OTHER",_e="UPGRADE_STATE_DISABLED",Ee=function(e){return e.common.infoBox},we=(0,le.Mz)([U],(function(e){return e.is.tablet?386:e.is.mobile?320:784})),Ie=function(e){return e.common.loadouts.equippedItems},ke=(0,le.Mz)([Ie],(function(e){return function(t){return e.find((function(e){return e.uniqueId===t}))}})),Se=function(e){return e.common.loadouts.equipedModelItems},Ce=function(e){return e.common.loadouts.slots},Me=function(e){return e.common.itemInReviewIndex},De=(0,le.Mz)([Ie,Me],(function(e,t){return e[t]})),Ae=((0,le.Mz)([De],(function(e){return e.upgrades})),(0,le.Mz)([De],(function(e){return e.uniqueId}))),Te=((0,le.Mz)([De],(function(e){return e.upgrades})),function(e){return e.common.loadouts.settings.currentSlotId}),Re=function(e){return e.common.upgrades.list},xe=function(e){return e.common.upgrades.isLoaded},Oe=function(e){return e.common.upgrades.descs},Le=function(e){return e.common.loadouts.settings.gender},Ne=function(e){return e.common.loadouts.isLoading},Pe=function(e){return e.common.loadouts.settings.slotsMax},Ue=function(e){return e.common.loadouts.isSwitchAmmoLoading},je=(0,le.Mz)([Ie],(function(e){return function(t){var n=e.find((function(e){return e.uniqueId===t}));return null==n?void 0:n.upgrades}})),Fe=function(e){return e.common.upgrades.isDescsLoaded},Ke=function(e){return e.common.upgrades.isLoaded},Be=((0,le.Mz)([De],(function(e){return e.type})),(0,le.Mz)([Ce,Te],(function(e,t){var n=e.find((function(e){return t===e.slotId}));return n?n.title:""}))),qe=(0,le.Mz)([Ie],(function(e){return e.length})),Je=(0,le.Mz)([qe,U],(function(e,t){return t.is.desktop?e>18?17:e:e>20?19:e})),He=(0,le.Mz)([Je,qe],(function(e,t){return t<=e?e:e+1})),ze=(0,le.Mz)([function(e){return e}],(function(e){return e===de})),Ge=(0,le.Mz)([function(e){return e}],(function(e){return e===fe})),Ve=(0,le.Mz)([function(e){return e}],(function(e){return e===me})),We=(0,le.Mz)([function(e){return e}],(function(e){return e===pe})),Qe=(0,le.Mz)([function(e){return e}],(function(e){return e===be})),Ye=((0,le.Mz)([function(e){return e}],(function(e){return"Clothing"===e})),(0,le.Mz)([ze,Ge],(function(e,t){return e||t}))),Xe=(0,le.Mz)([Ye,Ve],(function(e,t){return e||t})),Ze=(0,le.Mz)([Xe,We],(function(e,t){return e||t})),$e=(0,le.Mz)([function(e){return e}],(function(e){return e.find((function(e){return e.type===de}))})),et=(0,le.Mz)([function(e){return e}],(function(e){return e.find((function(e){return e.type===fe}))})),tt=(0,le.Mz)([Ie],(function(e){var t=$e(e),n=et(e),r=[];return t&&r.push(t),n&&r.push(n),r})),nt=((0,le.Mz)([tt],(function(e){return function(t){return e.filter((function(e){return e.uniqueId!==t}))}})),(0,le.Mz)([tt,Ae],(function(e,t){return e.filter((function(e){return e.uniqueId!==t}))})),(0,le.Mz)([Re,Oe],(function(e,t){return function(e){var n=t[e],r=n.icon,o=n.title,a=n.effectDesc;return{id:e,icon:r,title:o,hoverover:"<b>".concat(o,"</b><br />").concat(a)}}}))),rt=(0,ie.VP)("loadouts/CHECK_DARK_MODE"),ot=(0,ie.VP)("loadouts/SET_INFO_BOX_ERROR"),at=(0,ie.VP)("loadouts/CLEAR_INFO_BOX"),st=(0,ie.VP)("loadouts/SET_CURRENT_ITEMS"),ct=(0,ie.VP)("loadouts/GET_EQUIPPED_ITEMS_REQUEST"),ut=(0,ie.VP)("loadouts/GET_EQUIPPED_ITEMS_SUCCESS"),it=(0,ie.VP)("loadouts/GET_EQUIPPED_ITEMS_FAILURE"),lt=((0,ie.VP)("loadouts/SET_EQUIPPED_ITEMS"),(0,ie.VP)("loadouts/SET_ITEM_IN_REVIEW")),dt=function(e){return function(t,n){var r=n(),o=Je(r),a=Me(r);t(lt(e?a!==o-1?a+1:0:0!==a?a-1:o-1))}},ft=(0,ie.VP)("loadouts/SET_LOADOUT_TITLE_REQUEST"),mt=(0,ie.VP)("loadouts/SET_LOADOUT_TITLE_SUCCESS"),pt=(0,ie.VP)("loadouts/SET_LOADOUT_TITLE_FAILURE"),bt=(0,ie.VP)("loadouts/EQUIP_SLOT"),vt=(0,ie.VP)("loadouts/EQUIP_SLOT_REQUEST"),yt=(0,ie.VP)("loadouts/EQUIP_SLOT_SUCCESS"),gt=(0,ie.VP)("loadouts/EQUIP_SLOT_FAILURE"),ht=(0,ie.VP)("loadouts/GET_UPGRADES_DESCS_REQUEST"),_t=(0,ie.VP)("loadouts/GET_UPGRADES_DESCS_SUCCESS"),Et=(0,ie.VP)("loadouts/GET_UPGRADES_DESCS_FAILURE"),wt=(0,ie.VP)("loadouts/SET_UPGRADES"),It=(0,ie.VP)("loadouts/GET_UPGRADES_REQUEST"),kt=(0,ie.VP)("loadouts/GET_UPGRADES_SUCCESS"),St=(0,ie.VP)("loadouts/GET_UPGRADES_FAILURE"),Ct=((0,ie.VP)("ATTACH_UPGRADE_REQUEST"),(0,ie.VP)("loadouts/ATTACH_UPGRADE_REQUEST")),Mt=(0,ie.VP)("loadouts/ATTACH_UPGRADE_SUCCESS"),Dt=(0,ie.VP)("loadouts/ATTACH_UPGRADE_FAILURE"),At=(0,ie.VP)("loadouts/DETACH_UPGRADE_REQUEST"),Tt=(0,ie.VP)("loadouts/DETACH_UPGRADE_SUCCESS"),Rt=(0,ie.VP)("loadouts/DETACH_UPGRADE_FAILURE"),xt=(0,ie.VP)("loadouts/SET_ITEM_UPGRADES"),Ot=(0,ie.VP)("loadouts/RESET_SLOT_REQUEST"),Lt=(0,ie.VP)("loadouts/RESET_SLOT_SUCCESS"),Nt=(0,ie.VP)("loadouts/RESET_SLOT_FAILURE"),Pt=(0,ie.VP)("loadouts/SET_SLOT_NAME"),Ut=(0,ie.VP)("loadouts/SWITCH_AMMO_REQUEST"),jt=(0,ie.VP)("loadouts/SWITCH_AMMO_SUCCESS"),Ft=(0,ie.VP)("loadouts/SWITCH_AMMO_FAILURE"),Kt="fillAndShadow___DYYCG",Bt="grayFill___tkuer",qt="iconParentButton___POutJ",Jt="disabled___llWKP",Ht=function(){return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"11",viewBox:"0 0 16 11",className:Bt},o().createElement("path",{d:"M1302,21l-5,5V16Z",transform:"translate(29 -1294) rotate(90)"}))},zt=function(){return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"16",viewBox:"0 0 11 16",className:Bt},o().createElement("path",{d:"M1302,21l-5,5V16Z",transform:"translate(-1294 -13)"}))},Gt=function(){return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"13",viewBox:"0 0 15 13",className:Bt},o().createElement("path",{d:"M16,13S14.22,4.41,6.42,4.41V1L0,6.7l6.42,5.9V8.75c4.24,0,7.37.38,9.58,4.25"}))},Vt=function(){return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:0,display:"block"}},o().createElement("defs",null,o().createElement("linearGradient",{id:"loadouts_default_fill_light",gradientUnits:"objectBoundingBox",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},o().createElement("stop",{offset:"0",stopColor:"#ccc"}),o().createElement("stop",{offset:"1",stopColor:"#888"})),o().createElement("linearGradient",{id:"loadouts_hover_fill_light",gradientUnits:"objectBoundingBox",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},o().createElement("stop",{offset:"0",stopColor:"#999"}),o().createElement("stop",{offset:"1",stopColor:"#666"}))))},Wt=[["","1x"],["@2x","2x"],["@3x","3x"],["@4x","4x"]],Qt=function(e,t){return Wt.map((function(n){var r=n[0],o=n[1];return"".concat(e).concat(r,".").concat(t," ").concat(o)})).join(", ")},Yt=function(e,t){return n="/images/items/".concat(e,"/").concat(t),r="png",{src:"".concat(n,".").concat(r),srcSet:Qt(n,r)};var n,r},Xt={1:"primary",2:"secondary",3:"melee",4:"body",5:"temporary",6:"head",7:"legs",8:"feet",9:"hands"},Zt=function(e){return{src:"/images/items/silhouettes/".concat(Xt[e],".svg")}},$t=(n(3655),n(4713)),en=n(8684),tn=n(6584),nn=function(){return nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nn.apply(this,arguments)},rn=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},on={tooltip:"tooltip___aWICR",arrow:"arrow___yUDKb",arrowIcon:"arrowIcon___KHyjw",top:"top___klE_Y",bottom:"bottom___mz2Ax",left:"left___tHl8x",right:"right___ngRJq"},an=function(e){var t=e.x,n=e.y;return{left:null!=t?t:"",top:null!=n?n:""}},sn=function(e){return o().createElement("div",{className:i()(on.arrow,on[e.placement]),ref:e.arrowRef,style:an(e.stylesData)},o().createElement("div",{className:i()(on.arrowIcon,e.customClass)}))},cn=n(4604),un=function(){return un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},un.apply(this,arguments)},ln=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},dn=function(e){var t,n,a=e.children,s=e.content,c=ln(e,["children","content"]),u=function(e){var t,n,o,a,s,c,u=(0,r.useState)(!1),i=u[0],l=u[1],d=(0,r.useRef)(null);(0,r.useEffect)((function(){void 0!==e.forcedIsOpen&&l(e.forcedIsOpen)}),[e.forcedIsOpen]);var f=$t.useFloating({open:i,onOpenChange:l,whileElementsMounted:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return en.ll.apply($t,rn(rn([],e,!1),[{animationFrame:!0}],!1))},placement:null!==(t=e.placement)&&void 0!==t?t:"top",middleware:[tn.cY(null!==(n=e.offset)&&void 0!==n?n:10),tn.UU(),tn.BN({padding:null!==(o=e.padding)&&void 0!==o?o:10}),tn.UE({element:d}),tn.jD({elementContext:"floating",altBoundary:!0,padding:null!==(a=e.hidePadding)&&void 0!==a?a:32}),e.useEscapeStrategy&&tn.jD({strategy:"escaped"})]}),m=f.x,p=f.y,b=f.strategy,v=f.refs,y=f.middlewareData,g=f.placement,h=f.context,_=$t.useTransitionStyles(nn(nn({},h),{open:h.open&&!(!0===(null===(s=y.hide)||void 0===s?void 0:s.referenceHidden)||!0===(null===(c=y.hide)||void 0===c?void 0:c.escaped))}),{duration:200}),E=_.isMounted,w=_.styles;return{x:m,y:p,strategy:b,refs:v,middlewareData:y,placement:g,context:h,arrowRef:d,isOpen:i,setIsOpen:l,animationInProgress:E,animationStyles:w}}({placement:c.placement,offset:c.offset,padding:c.padding,hidePadding:c.hidePadding,useEscapeStrategy:c.useEscapeStrategy,forcedIsOpen:c.forcedIsOpen}),l=u.x,d=u.y,f=u.strategy,m=u.refs,p=u.middlewareData,b=u.placement,v=u.context,y=u.isOpen,g=u.animationInProgress,h=u.arrowRef,_=u.animationStyles,E=function(e,t){var n=t.clickable,r=t.role,o=void 0===r?"tooltip":r,a=t.delay;return(0,$t.useInteractions)([(0,$t.useHover)(e,{mouseOnly:!0,handleClose:n&&(0,$t.safePolygon)(),delay:a}),(0,$t.useClick)(e,{ignoreMouse:!0}),(0,$t.useFocus)(e),(0,$t.useRole)(e,{role:o}),(0,$t.useDismiss)(e)])}(v,{clickable:c.clickable,role:c.role,delay:c.delay}),w=E.getReferenceProps,I=E.getFloatingProps;return o().createElement(o().Fragment,null,o().cloneElement(a,un(un({ref:m.setReference},(0,cn.v)(w(),a.props)),{"data-is-tooltip-opened":y?"true":"false"})),Boolean(s)&&(y||g)&&o().createElement($t.FloatingPortal,null,o().createElement("div",un({ref:m.setFloating,className:i()(on.tooltip,null===(t=c.customClasses)||void 0===t?void 0:t.tooltipCustomClass),style:un(un({},_),{position:f,top:null!=d?d:0,left:null!=l?l:0})},I()),s instanceof Function?s():s,o().createElement(sn,{placement:b,arrowRef:h,stylesData:p.arrow||{},customClass:null===(n=c.customClasses)||void 0===n?void 0:n.tooltipArrowCustomClass}))))},fn="tooltipName___BL33k",mn="tooltipType___jk6YJ",pn="itemWrapper___kQsxw",bn="active___LXRZJ",vn="item___kUJSn",yn="glowBox___rMwrd",gn="defaultItem___wAlLl",hn="img___KsaBw",_n="blank___UsF7k",En=function(){return En=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},En.apply(this,arguments)},wn=function(e){var t,n,a,c=e.index,u=e.type,l=e.name,d=e.glowClass,f=e.setRef,m=e.onFocus,p=e.isBlank,b=e.itemID,v=e.slotId,y=(0,s.wA)(),g=(0,r.useCallback)((function(){return y(lt(c))}),[y,c]),h=(0,r.useCallback)((function(e){return f(c,e)}),[c,f]),_=(0,r.useCallback)((function(){return m(c)}),[c,m]),E=(0,s.d4)(Me)===c,w=(0,r.useMemo)((function(){return E?'Item "'.concat(l,'" selected'):'Select "'.concat(l,'" item')}),[E,l]),I=b?Yt(b,"medium"):Zt(v);return o().createElement("div",{className:i()(pn,(t={},t[bn]=E,t["".concat(d,"-border")]=d,t))},o().createElement("button",{ref:h,type:"button",className:i()(vn,(n={},n[gn]=!d,n)),onClick:g,"aria-label":w,onFocus:_},o().createElement("div",{className:i()(yn,"".concat(d||"glow-default","-background"))},o().createElement(dn,{content:o().createElement(o().Fragment,null,o().createElement("p",{className:fn},l),o().createElement("p",{className:mn},"(",u,")")),placement:"top"},o().createElement("img",En({},I,{className:i()(hn,(a={},a[_n]=p,a)),alt:l}))))))},In="equippedItems___K1J5S",kn="extraCount___rfi44",Sn=function(){return Sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sn.apply(this,arguments)},Cn=function(){var e=(0,s.d4)(Je),t=(0,s.d4)(Ie),n=(0,s.d4)(qe),a=ce({lenght:(0,s.d4)(He)}),c=(0,r.useCallback)((function(t){a.setItemRef(e,t)}),[e]),u=(0,r.useCallback)((function(){a.onItemFocus(e)}),[e]),l=(0,r.useMemo)((function(){return t.slice(0,e).map((function(e,t){return o().createElement(wn,Sn({key:e.uniqueId,index:t,setRef:a.setItemRef,onFocus:a.onItemFocus},e))}))}),[t,e,a.setItemRef,a.onItemFocus]),d=(0,r.useMemo)((function(){if(t.length>e){var r=n-e;return o().createElement("div",{className:pn,ref:c,onFocus:u,"aria-label":"Extra ".concat(r," items not shown in this list.")},o().createElement("div",{className:i()(vn,kn,"glow-default-background")},"+",r))}}),[t.length,e,n,c,u]);return o().createElement("div",{className:In,onKeyDown:a.onContainerKeyDown},l,d)},Mn={itemReview:"itemReview___b8uF1",type:"type___hrzuz",img:"img___lW9P3",blank:"blank___PTviN",arrowLeft:"arrowLeft___ROGer",arrowRight:"arrowRight___J5Mn1",bonuses:"bonuses___xul7K",bonusWeapon0:"bonusWeapon0___OXotL",bonusWeapon1:"bonusWeapon1___qnwNo",upgrade0:"upgrade0___Fhb42",upgrade1:"upgrade1___W9vFs",accuracy:"accuracy___udZQR",damage:"damage___NJy0A",exp:"exp___fpDGV",perc:"perc___hg69Y",defencePanel:"defencePanel___jF_uH",armor:"armor___fvpXI",bonusDefence0:"bonusDefence0___egUMc",bonusDefence1:"bonusDefence1___vLePd",demageIcon:"demageIcon___DEua4",accuracyIcon:"accuracyIcon___tMt2a",armorIcon:"armorIcon___PiBsy"},Dn="bonus___uGuK1",An="tooltipContainer___HBy6r",Tn=function(e){var t=e.className,n=e.title,a=e.desc,s=e.icon,c=e.hoverover,u=e.tooltipPosition,l=e.ariaLabel,d=e.setRef,f=e.onClick,m=e.onKeyUp,p=i()(Dn,t),b="bonus-attachment-".concat(s),v=(0,r.useMemo)((function(){return l||(n?'"'.concat(n,'" bonus: ').concat(a):"No bonus attached")}),[l,a,n]);return o().createElement("button",{ref:d,type:"button",className:p,"aria-label":v,onClick:f,onKeyUp:m},o().createElement(dn,{content:c?o().createElement("span",{dangerouslySetInnerHTML:{__html:c}}):null,placement:u,customClasses:{tooltipCustomClass:An}},o().createElement("i",{className:b})))},Rn="itemAbility___ymsBI",xn="accuracyBonusIcon___uwMwo",On=(0,r.memo)((function(e){var t=e.className,n=e.iconClassName,a=e.name,s=e.value,c=(0,r.useMemo)((function(){return i()(Rn,t)}),[t]),u=(0,r.useMemo)((function(){return i()(xn,n)}),[n]),l=(0,r.useMemo)((function(){return s||"N/A"}),[s]);return o().createElement("span",{className:c,tabIndex:0,"aria-label":"".concat(a," bonus is ").concat(s)},o().createElement("i",{className:u}),l)})),Ln="upgrade___5lkGt",Nn="upgradePanel___bzQaZ",Pn="list___gMcoi",Un="info___T2wAH",jn="redDesc___dtCKR",Fn="more___yUWmd",Kn="item___DXA4y",Bn="equiped___U0wIg",qn="equipedOnOther___lZU5P",Jn="disabled___MBL_B",Hn="image___JM54Y",zn=(0,r.memo)((function(e){var t=e.id,n=e.index,a=e.abbilityTitle,s=e.imgClassName,c=e.state,u=e.onKeyDown,l=e.onHover,d=e.onFocus,f=e.setRef,m=e.onActivate,p=e.onDeactivate,b=(0,r.useCallback)((function(){return l(n)}),[l,n]),v=(0,r.useCallback)((function(){return l(null)}),[l,n]),y=(0,r.useCallback)((function(e){c===ge||c===he?m(t):c===ye&&p(t),e.stopPropagation()}),[t,m]),g=(0,r.useCallback)((function(){return d(n)}),[n,d]),h=(0,r.useMemo)((function(){var e;return i()(Kn,((e={})[Bn]=c===ye,e[qn]=c===he,e[Jn]=c===_e,e))}),[c]),_=(0,r.useMemo)((function(){return i()(Hn,s)}),[s]),E=(0,r.useMemo)((function(){return c===ge?'Attach "'.concat(a,'" modification'):c===he?'Reattach "'.concat(a,'" modification'):c===ye?'Detach "'.concat(a,'" modification'):'Disabled "'.concat(a,'" modification')}),[c,a]);return o().createElement("button",{type:"button",ref:f,className:h,"aria-label":E,onMouseEnter:b,onMouseLeave:v,onClick:y,onFocus:g,onKeyDown:u},o().createElement("i",{className:_}))})),Gn=function(){return Gn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gn.apply(this,arguments)},Vn=(0,le.Mz)([function(e){return e}],(function(e){var t=e.itemId;return e.armoryList.some((function(e){return e.armouryID===t}))})),Wn=(0,le.Mz)([function(e){return e}],(function(e){var t=e.attached,n=e.attachedToItemId,r=e.itemUniqueId,o=e.armoryList;return Vn({itemId:r,armoryList:o})?t&&n!==r?he:t&&n===r?ye:ge:_e})),Qn=(0,le.Mz)([function(e){return e}],(function(e){var t=e.state,n=e.attachedToArmouryName;return t===ye?"(click mod to detach)":t===ge?"(click mod to attach)":t===he?"(attached to ".concat(n,")"):t===_e?"(not compatible)":""})),Yn=(0,le.Mz)([function(e){return e}],(function(e){var t=e.armoryId,n=e.armouryList.find((function(e){return e.armouryID===t}));return n?n.type:""})),Xn=(0,le.Mz)([function(e){return e}],(function(e){return e===ye?1:e===ge?3:e===he?2:e===_e?4:5})),Zn=(0,le.Mz)([function(e){return e}],(function(e){var t=e.itemUniqueId,n=e.itemWeptype;return e.upgrades.map((function(e){var r=Wn({compatibility:e.compatibility,attachedToItemId:e.attachedToItemId,itemWeptype:n,itemUniqueId:t,attached:e.attached,armoryList:e.armouryList}),o=Yn({armoryId:e.attachedToItemId,armouryList:e.armouryList}),a=Qn({state:r,attachedToArmouryName:o});return Gn(Gn({},e),{hintTitle:a,state:r})})).sort((function(e,t){var n=Xn(e.state)-Xn(t.state);return 0!==n?n:B(e.cost,t.cost)+B(e.value,t.value)}))}));var $n=function(){return $n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$n.apply(this,arguments)},er=function(e){var t=e.itemId,n=e.itemUpgradeIndex,a=e.setFirstRef,c=e.setLastRef,u=e.onKeyDown,l=e.onLastItemTabKeyDown,d=(0,s.wA)(),f=(0,r.useState)(null),m=f[0],p=f[1],b=(0,s.d4)(De),v=(0,s.d4)(Re),y=Zn({itemUniqueId:b.uniqueId,itemWeptype:b.weptype,upgrades:v}),g=(0,s.d4)(Fe),h=(0,s.d4)(Ke),_=y[m];(0,r.useEffect)((function(){d(It())}),[d]);var E=(0,r.useCallback)((function(e){return p(e)}),[]),w=function(e,t){var n=(0,s.wA)(),o=(0,s.d4)(ke)(e);return(0,r.useCallback)((function(r){var a,s,c,u,i=e,l=t.find((function(t){return r===t.id&&t.attached&&t.attachedToItemId!==e})),d=l?l.attachedToItemId:null,f=r,m=t.find((function(e){return e.id===r})),p=m?m.isDual:null,b=t.filter((function(e){return e.attached&&e.attachedToItemId===i})),v=b.length,y=b[v-1],g=b.filter((function(e){return e.type===m.type})),h=g.length,_=o.isDual;d?(a=d,s=l.id,2===v&&(c=e,u=y.id)):v<2?1===h&&(_&&g[0].isDual&&p||(a=g[0].attachedToItemId,s=g[0].id)):2===v&&(1===h?_&&g[0].isDual&&p?(a=y.attachedToItemId,s=y.id):(a=g[0].attachedToItemId,s=g[0].id):2===h?(a=g[1].attachedToItemId,s=g[1].id):(a=y.attachedToItemId,s=y.id)),n(Ct({attachItemId:i,attachUpgradeId:f,detachItemId:a,detachUpgradeId:s,extraDetachItemId:c,extraDetachUpgradeId:u}))}),[e,t])}(t,y),I=(0,r.useCallback)((function(e){return d(At({itemId:t,upgradeId:e}))}),[d,t]),k=y.length,S=k<5?k-1:4,C="number"==typeof m,M=function(e){var t=e.setFirstRef,n=e.setLastRef,o=e.maxItemIndex,a=e.upgradeIsActive;return{getItemRefSetterByIndex:(0,r.useCallback)((function(e){var r=[];return 0===e&&r.push(t),e===o&&a&&r.push(n),function(e){return r.forEach((function(t){return t(e)}))}}),[t,n,o,a])}}({setFirstRef:a,setLastRef:c,maxItemIndex:S,upgradeIsActive:C,onLastItemTabKeyDown:l}),D=ce({lenght:5}),A=(0,r.useCallback)((function(e){return function(t){M.getItemRefSetterByIndex(e)(t),D.setItemRef(e,t)}}),[M,D]),T=y.slice(0,5).map((function(e,t){var r=t===S&&C?l:void 0;return o().createElement(zn,$n({},e,{setRef:A(t),onFocus:D.onItemFocus,onKeyDown:r,itemUpgradeIndex:n,key:e.id,onHover:E,index:t,onActivate:w,onDeactivate:I}))}));return o().createElement("div",{role:"none",className:Nn,onKeyDown:u},o().createElement("div",{role:"none",className:Pn,onKeyDown:D.onContainerKeyDown},T),o().createElement("div",{className:Un},o().createElement("p",null,function(){if(g&&h){var e=y.length-5;return _?_.abbilityTitle:y.length>5?o().createElement(o().Fragment,null,"Select Weapon Attachment (",e>=1?o().createElement("a",{ref:c,className:Fn,href:"/page.php?sid=itemsMods"},e," more"):null,")"):0===y.length?"No Weapon Attachment":"Select Weapon Attachment"}}()),o().createElement("p",{className:i()(_&&_.state===_e?jn:"")},_?_.hintTitle:"")))};var tr=function(e){var t=e.itemId,n=e.viewId,a=e.className,s=e.title,c=e.desc,u=e.icon,l=e.hoverover,d=e.index,f=e.isBlank,m=e.disabled,p=function(e){var t=(0,r.useState)(!1),n=t[0],o=t[1],a=(0,r.useState)(null),s=a[0],c=a[1],u=(0,r.useState)(null),i=u[0],l=u[1],d=(0,r.useState)(null),f=d[0],m=d[1],p=(0,r.useCallback)((function(t){return!e&&c(t)}),[e,c]),b=Y(s),v=Y(i),y=(0,r.useCallback)((function(){o(!0),v.focus()}),[o,v.focus]),g=(0,r.useCallback)((function(){o(!1),b.focus()}),[o]),h=(0,r.useCallback)((function(e){n?g():y(),e.preventDefault()}),[n,y,g]),_=V((function(e){y(),e.preventDefault()})),E=W(g),w=G(v.focus);return{isActive:n,setActive:o,activatorRef:s,setActivatorRef:p,setFirstRef:l,setLastRef:m,lastRef:f,firstRef:i,onActivatorClick:h,onActivatorKeyUp:_,onContainerEscKeyDown:E,onLastItemTabKeyDown:w}}(f&&m),b=j((function(){return p.setActive(!1)}));return o().createElement("div",{ref:b.setContainerRef,className:i()(a,Ln)},o().createElement(Tn,{setRef:p.setActivatorRef,onClick:p.onActivatorClick,onKeyUp:p.onActivatorKeyUp,id:n,icon:u,hoverover:l,tooltipPosition:"top",ariaLabel:s&&c?'"'.concat(s,'" modification: ').concat(c,". Attach additional modification"):s?'"'.concat(s,'" modification. Attach additional modification'):f?"Blank modification":"Attach modification"}),!f&&!m&&p.isActive&&o().createElement(er,{itemId:t,onKeyDown:p.onContainerEscKeyDown,onLastItemTabKeyDown:p.onLastItemTabKeyDown,setFirstRef:p.setFirstRef,setLastRef:p.setLastRef,itemUpgradeIndex:d}))},nr="exp___h33yF",rr="perc___E9wY2",or="tooltipActivator___EaLBt",ar=(0,r.memo)((function(e){var t=e.expPercent;return o().createElement("div",{className:nr,tabIndex:0,"aria-label":"Exp is ".concat(t,"%")},o().createElement("div",{className:rr,style:{width:"".concat(t,"%")}}),o().createElement(dn,{content:"".concat(t,"%"),placement:"top"},o().createElement("div",{className:or})))})),sr=(0,le.Mz)([function(e){return e}],(function(e){var t,n,r,o=e.type,a=e.clips,s=e.total;if(o===de||o===fe)if(a){var c=a.currentAmount,u=a.maxAmmo,i=a.maxClips,l=a.amount;t=c<1e3&&u<1e3?"".concat(c,"/").concat(u," (").concat(i,")"):"".concat(c," (").concat(i,")"),n="Ammo amount is ".concat(c,", maximum number of ammo is")+" ".concat(u,", maximum number of clips is ").concat(i,". Total amount is ").concat(l,"."),r=l}else t="N/A",n="The ammo amount is not available",r=null;else o===me?(t="eternity",n="Ammo amount is eternity",r=null):o===pe?(t="1",n="Ammo amount is 1",r=s):(t=null,n="",r=null);return{ammo:t,ammoDescription:n,ammoAmount:r}})),cr="ammo___fMLmp",ur="ammoTooltip___IBvRj",ir="ammoDescription___MdphY",lr="currentAmmoTypeTitle___CYYPB",dr="ammoAvailable___iipeI",fr="eternity___mE5mO",mr="loading___XYXxU",pr="standard___fJsf0",br="hollowPoint___B4DBc",vr="tracer___welWY",yr="piercing___a7AfE",gr="incendiary___HjYkI",hr=function(e){var t,n=(0,s.wA)(),a=e.itemId,c=e.currentAmmoType,u=e.type,l=e.clips,d=e.isBlank,f=e.total,m=sr({type:u,clips:l,total:f}),p=m.ammo,b=m.ammoDescription,v=m.ammoAmount,y=i()(((t={})[pr]=1===c,t[br]=2===c,t[vr]=4===c,t[yr]=3===c,t[gr]=5===c,t)),g=(0,s.d4)(Ue),h=c?ve[c]:"",_=(0,r.useCallback)((function(){return!d&&c&&n(Ut(a))}),[c,n,Ut,a,d]);return o().createElement("div",{role:"button",tabIndex:0,className:cr,"aria-label":"".concat(h?'Ammo type is "'.concat(h,'". '):"").concat(b),onClick:_,onKeyPress:V(_)},o().createElement(dn,{content:o().createElement("div",{className:i()(ur,y)},o().createElement("p",{className:lr},h),o().createElement("p",{className:dr},"".concat((new Intl.NumberFormat).format(v)," available")," ")),placement:"bottom"},o().createElement("span",{className:i()(ir,y,g&&mr)},"eternity"===p?o().createElement("i",{className:fr}):d?"":p)))},_r=n(2053),Er=n.n(_r),wr=(0,le.Mz)(Er(),(function(e){var t=e.itemId,n=e.itemUpgrades,r=e.upgrades,o=e.upgradesLoaded,a=r.filter((function(e){var n=e.armouryList;return Vn({itemId:t,armoryList:n})})).length;return[0,1].reduce((function(e,t){return n[t]?e.push(n[t]):o&&(t<a?e.push({id:"blank-upgrade-".concat(t),icon:"add-mod",isBlank:!0}):e.push(function(e){return{id:"blank-upgrade-".concat(e),icon:"blank-bonus-25",isBlank:!0,disabled:!0}}(t))),e}),[])})),Ir=function(){return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"30",viewBox:"0 0 11 30",fill:"#ccc"},o().createElement("path",{d:"M-5534-275l10-15h1l-10,15Zm10-15-10-15h1l10,15Z",transform:"translate(5534 305)"}))},kr=function(){return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"30",viewBox:"0 0 11 30",fill:"#ccc"},o().createElement("path",{d:"M0,0,10,15h1L1,0ZM10,15,0,30H1L11,15Z",transform:"translate(11 30) rotate(180)"}))},Sr=function(){return Sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sr.apply(this,arguments)},Cr=function(){var e,t=(0,s.wA)(),n=(0,s.d4)(De),a=n.uniqueId,c=n.type,u=n.itemID,l=n.slotId,d=n.bonuses,f=n.upgrades,m=n.expPercent,p=n.damage,b=n.armor,v=n.currentAmmoType,y=n.clips,g=n.accuracy,h=n.name,_=n.isBlank,E=n.glowClass,w=n.total,I=(0,s.d4)(Re),k=(0,s.d4)(xe),S=wr({itemId:a,itemUpgrades:f,upgrades:I,upgradesLoaded:k}),C=(0,r.useCallback)((function(){return t(dt(!1))}),[t]),M=(0,r.useCallback)((function(){return t(dt(!0))}),[t]),D=u?Yt(u,"large"):Zt(l);return o().createElement("div",{className:i()(Mn.itemReview,"".concat(E||"glow-default","-background"))},!_&&Ye(c)?S.map((function(e,t){var n="upgrade-".concat(a,"-").concat(t);return o().createElement(tr,Sr({key:n,itemId:a,index:t,className:Mn["upgrade".concat(t)]},e,{viewId:n,isBlank:_}))})):null,o().createElement("div",{className:Mn.type,"aria-label":'Item type is "'.concat(c,'"')},c),!_&&Xe(c)&&d.map((function(e,t){var n="bonus-".concat(a,"-").concat(t);return o().createElement(Tn,Sr({key:n,className:Mn["bonusWeapon".concat(t)]},e,{tooltipPosition:"top"}))})),o().createElement("button",{type:"button",className:Mn.arrowLeft,onClick:C,"aria-label":"Select previous item"},o().createElement(kr,null)),o().createElement("img",Sr({className:i()(Mn.img,(e={},e[Mn.blank]=_,e))},D,{alt:h})),o().createElement("button",{type:"button",className:Mn.arrowRight,onClick:M,"aria-label":"Select next item"},o().createElement(Ir,null)),Ze(c)&&"number"==typeof m&&o().createElement(ar,{expPercent:m}),Xe(c)&&p&&o().createElement(On,{className:Mn.damage,name:"Damage",iconClassName:Mn.demageIcon,value:p}),Ze(c)&&o().createElement(hr,{itemId:a,currentAmmoType:v,type:c,clips:y,total:w,isBlank:_}),Xe(c)&&g&&o().createElement(On,{className:Mn.accuracy,name:"Accuracy",iconClassName:Mn.accuracyIcon,value:g}),Qe(c)&&o().createElement("div",{className:Mn.defencePanel},Qe(c)&&b&&o().createElement(On,{className:Mn.armor,name:"Armor",iconClassName:Mn.armorIcon,value:b}),!_&&Qe(c)&&d.map((function(e,t){var n="bonus-".concat(a,"-").concat(t);return o().createElement(Tn,Sr({key:n,id:n,className:Mn["bonusDefence".concat(t)]},e,{tooltipPosition:"bottom"}))}))))},Mr="onChangeTornMode";var Dr=function(e){return e?"dark":"light"},Ar=function(){var e,t,n=(0,r.useState)(Dr("true"===(e="darkModeEnabled".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1"),(t=document.cookie&&document.cookie.match(new RegExp("".concat("(?:^|; )").concat(e).concat("=([^;]*)"))))&&t[1]?decodeURIComponent(t[1]):void 0))),o=n[0],a=n[1],s=function(e){return a(Dr(e.detail.checked))};return(0,r.useEffect)((function(){return window.addEventListener(Mr,s),function(){return window.removeEventListener(Mr,s)}}),[]),o},Tr="modelWrap___j3kfA",Rr="modelLayers___HFVIQ center___Sy8w7",xr="model___HOHCU",Or="armour___fLnYY",Lr="background___RFpQY",Nr="backgroundImage___j6F8X",Pr="hairMask___aq2YD",Ur="itemImg___B8FMH",jr="mask___CtIsZ",Fr="armoursWrap___xqZGV",Kr="armourContainer___zL52C",Br=function(e){return o().createElement("div",{className:Or},o().createElement("img",{alt:"",className:Ur,src:e.imgSrc}))},qr=function(e){return o().createElement("div",{className:Lr},o().createElement("img",{alt:"",className:"".concat(Ur," ").concat(Nr),src:e.imgSrc}))},Jr=function(e){return o().createElement("div",{className:Pr},o().createElement("img",{alt:"",className:Ur,src:(t=e.hairMaskID,n=e.gender,r="dark"===Ar(),"/images/v2/items/masks/".concat(n,"-").concat(t).concat(r?"-d":"",".png"))}));var t,n,r},Hr=function(e){return o().createElement("div",{className:jr},o().createElement("img",{alt:"",className:Ur,src:e.imgSrc}))},zr=function(e){return o().createElement("div",{className:Fr},e.armour.map((function(t,n){var r=t.ID,a=t.bgImgSrc,s=t.maskImgSrc,c=t.armourImgSrc,u=t.hairMaskID;return o().createElement("div",{key:r,className:Kr,style:{zIndex:10+n}},a&&o().createElement(qr,{imgSrc:a}),s&&o().createElement(Hr,{imgSrc:s}),u&&o().createElement(Jr,{hairMaskID:u,gender:e.gender}),c&&o().createElement(Br,{imgSrc:c}))})))},Gr=n(8285),Vr=n.n(Gr),Wr={helmet:function(e){var t=e.title;return o().createElement("area",{alt:"Helmet",title:t,coords:"118,77,104,67,99,52,104,36,118,26,132,32,136,51,133,69",shape:"poly"})},chest:function(e){var t=e.title;return o().createElement("area",{alt:"Chest",title:t,coords:"119,79,99,73,80,96,62,131,54,150,52,167,62,169,79,138,91,118,99,142,95,159,143,161,144,143,148,118,162,141,174,166,187,165,176,129,162,95,140,75",shape:"poly"})},pants:function(e){var t=e.title;return o().createElement("area",{alt:"Pants",title:t,coords:"94,162,145,162,157,204,154,239,150,261,156,275,150,301,136,303,131,283,121,209,109,284,105,300,89,299,85,276,87,257,84,236,85,201",shape:"poly"})},gloves:function(e){var t=e.title;return o().createElement(o().Fragment,null,o().createElement("area",{alt:"Gloves",title:t,coords:"48,203,55,192,62,195,67,192,61,172,50,169,44,183,40,203",shape:"poly"}),o().createElement("area",{alt:"Gloves",title:t,coords:"175,171,189,170,196,185,198,200,191,202,184,191,177,196,176,180",shape:"poly"}))},boots:function(e){var t=e.title;return o().createElement(o().Fragment,null,o().createElement("area",{alt:"Boots",title:t,coords:"87,300,89,322,86,336,78,349,88,354,99,354,104,340,106,325,105,302",shape:"poly"}),o().createElement("area",{alt:"Boots",title:t,coords:"136,304,153,300,151,318,153,330,160,343,153,352,138,353,132,330",shape:"poly"}))}},Qr=function(e){var t=e.armourTitles,n=e.associatedImage;return o().createElement("map",{name:n},t.map((function(e){var t=e.name,n=e.title,r=Wr[t];return r?o().createElement(r,{title:n,key:n}):null})))},Yr=function(e){var t,n,a=(0,r.useRef)(Vr()("map_")).current;return(0,r.useEffect)((function(){try{initializeTooltip(".".concat(xr),"white-tooltip",{track:!0})}catch(e){console.error(e)}}),[]),o().createElement("div",{className:xr},o().createElement("img",{alt:"",useMap:"#".concat(a),src:"/images/v2/attack/models/".concat(null!==(t=e.modelName)&&void 0!==t?t:"".concat(e.gender,"_model"),".png")}),Boolean(null===(n=e.armourTitles)||void 0===n?void 0:n.length)&&o().createElement(Qr,{armourTitles:e.armourTitles,associatedImage:a}))},Xr=n(3741),Zr=n.n(Xr),$r=n(3174),eo=n.n($r),to=n(6470),no=n.n(to),ro=n(5968),oo=n.n(ro),ao=n(7412),so=n.n(ao),co=n(186),uo=n.n(co),io={H:0,E:1,N:2,M:3,P:4,B:5,W:6,R:7,D:8,L:9,F:10},lo=[1,2,3,5],fo=[999,1e3],mo=function(e,t){return e&&"/images/v2/items/backgrounds/".concat(t,"-").concat(e,".png")},po=function(e,t,n){return e&&"/images/v2/items/masks/".concat(t,"-").concat(e).concat(n?"-d":"",".png")},bo=function(e,t,n){return t?"".concat(t,"_").concat(n.charAt(0),".png"):"/getImage.php?ID=".concat(e,"&gender=").concat(n.charAt(0))},vo={4:"chest",6:"helmet",7:"pants",8:"boots",9:"gloves"},yo=function(e,t){var n=Number(e.slice(1)),r=Number(t.slice(1)),o=io[e.charAt(0)],a=io[t.charAt(0)];return n-r||a-o},go=function(e){return $(e)&&e.length?e.sort(yo)[e.length-1]:""},ho=function(){return ho=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ho.apply(this,arguments)},_o=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Eo=Zr()(eo()(Boolean),oo()(no()("item[0]")),so()((function(e){return!function(e){var t,n;return fo.includes(Number(null===(n=null===(t=null==e?void 0:e.item)||void 0===t?void 0:t[0])||void 0===n?void 0:n.ID))}(e)&&!function(e){var t,n;return lo.includes(Number(null===(n=null===(t=null==e?void 0:e.item)||void 0===t?void 0:t[0])||void 0===n?void 0:n.equipSlot))}(e)}))),wo=Zr()(oo()((function(e){return ho(ho({},e),{ID:e.path})})),eo()(no()("path")),uo()),Io=function(e,t,n,r){return o=_o(_o([],Eo(e),!0),wo(t),!0).map(function(e,t){return function(n){return n?{ID:n.ID||n.value,maskID:n.slotsMapMask,hairMaskID:n.slotsMapMaskHair,slotsMap:JSON.parse(n.slotsMap||"[]"),slotsMapBackground:n.slotsMapBackground,changedSlotsMap:JSON.parse(n.changedSlotsMap||"[]"),path:n.path,area:vo[n.equipSlot],name:n.name,bgImgSrc:mo(n.slotsMapBackground,e),maskImgSrc:po(n.slotsMapMask,e,t),armourImgSrc:bo(n.ID,n.path,e)}:(console.error("Item or Armour not found!: ",n),{})}}(n,r)),o.sort((function(e,t){var n,r,o,a;return(null!==(r=null===(n=e.changedSlotsMap)||void 0===n?void 0:n.length)&&void 0!==r?r:0)-(null!==(a=null===(o=t.changedSlotsMap)||void 0===o?void 0:o.length)&&void 0!==a?a:0)})).sort((function(e,t){var n,r,o,a;return(null!==(r=null===(n=e.slotsMap)||void 0===n?void 0:n.length)&&void 0!==r?r:0)-(null!==(a=null===(o=t.slotsMap)||void 0===o?void 0:o.length)&&void 0!==a?a:0)})).sort((function(e,t){var n,r,o=(null===(n=e.changedSlotsMap)||void 0===n?void 0:n.length)?e.changedSlotsMap:e.slotsMap,a=(null===(r=t.changedSlotsMap)||void 0===r?void 0:r.length)?t.changedSlotsMap:t.slotsMap,s=go(o),c=go(a);return yo(s,c)||0}));var o};function ko(e){var t=e.classNameWrap,n=e.equippedArmour,a=e.presets,s=e.gender,c=e.showArmour,u=void 0===c||c,l=e.modelName,d="dark"===Ar(),f=(0,r.useMemo)((function(){return Io(n,a,s,d)}),[n,a,s,d]),m=(0,r.useMemo)((function(){return function(e){return e.map((function(e){var t=e.name;return{name:e.area,title:t}}))}(f)}),[f]);return o().createElement("div",{className:i()(Tr,t)},o().createElement("div",{className:Rr},o().createElement(Yr,{gender:s,armourTitles:m,modelName:l}),u&&o().createElement(zr,{armour:f,gender:s})))}function So(){var e,t=(0,r.useState)(!1),n=t[0],o=t[1],a=(0,r.useState)(null),s=a[0],c=a[1],u=function(e){var t=(0,r.useState)(!1),n=t[0],o=t[1],a=(0,r.useCallback)((function(){return o(!0)}),[o]),s=(0,r.useCallback)((function(){o(!1),e.removeEventListener("focus",s)}),[e,o]),c=(0,r.useCallback)((function(){e.addEventListener("focus",s),e.focus(),e.removeEventListener("blur",c)}),[e,s]);return(0,r.useEffect)((function(){e&&n&&(e.addEventListener("blur",c),e.blur())}),[e,n,c]),{focused:n,setFocused:o,focus:a}}(s),i=(0,r.useCallback)((function(){o(!n),u.focus()}),[o,u.focus,n]),l=(0,r.useCallback)((function(){o(!1),u.focus()}),[o,u.focus]),d=i,f=Q(V(i),W(l),(e=!n,G((function(t){e||t.preventDefault()}))));return{isActive:n,setActive:o,ref:s,setRef:c,refReFocuser:u,onContainerClick:d,onContainerKeyDown:f}}var Co="model___fOj3M",Mo="userModel___IenH5",Do="isFullSize___Pg_ZN",Ao=(0,r.memo)((function(){var e=(0,s.d4)(Se),t=(0,s.d4)(Le),n=(0,s.d4)(Ne),a=So(),c=j((function(){return a.setActive(!1)})),u=(0,r.useMemo)((function(){return i()(Co,a.isActive&&Do)}),[a.isActive]),l=(0,r.useMemo)((function(){return a.isActive?"Model: Close":"Model: Open"}),[a.isActive]);return o().createElement("div",{ref:a.setRef,className:u,"aria-label":l,tabIndex:0,role:"button",onKeyDown:a.onContainerKeyDown,onClick:a.onContainerClick},!n&&o().createElement("div",{ref:a.isActive?c.setContainerRef:function(){}},o().createElement(ko,{classNameWrap:Mo,gender:t,equippedArmour:e})))})),To="currentSlot___NdQYS",Ro="modelContainer___d9pQa",xo="itemReviewContainer___iWHod",Oo="cell___O0TDB",Lo="itemsContainer___wIgfo",No="rightPanel___m4e3p",Po="model___kiRJR",Uo="items___CqrU6",jo=(0,r.memo)((function(){var e=(0,s.wA)(),t=(0,s.d4)(De),n=(0,s.d4)(Fe);return(0,r.useEffect)((function(){n||e(ht()),e(It())}),[]),o().createElement("section",{className:To},o().createElement("div",{className:i()(Oo,Ro)},o().createElement("div",{className:Po},o().createElement(Ao,null))),o().createElement("div",{className:No},o().createElement("div",{className:i()(Oo,xo)},t&&o().createElement(Cr,null)),o().createElement("div",{className:i()(Oo,Lo)},o().createElement("div",{className:Uo},o().createElement(Cn,null)))))})),Fo="slots___vDwHr",Ko="slot____QvbY",Bo=function(e){var t;return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"16",viewBox:"0 0 15 16",className:i()(Kt,(t={},t[Jt]=e.disabled,t))},o().createElement("path",{d:"M7,14c-3.9,0-7-3.1-7-7c0-3.9,3.1-7,7-7c3.9,0,7,3.1,7,7C14,10.9,10.9,14,7,14z M6,8v3h2V8\n\th3V6H8V3H6v3H3v2H6z"}))},qo=function(e){var t;return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20.267",height:"15.5",viewBox:"0 0 20.267 15.5",className:i()(Kt,(t={},t[Jt]=e.disabled,t))},o().createElement("g",{xmlns:"http://www.w3.org/2000/svg",transform:"matrix(1, 0, 0, 1, 0, 0)"},o().createElement("path",{d:"M6.75,9.75,3.4,13.477,0,9.75H2.25a6.743,6.743,0,0,1,11.384-4.9l-1.5,1.673A4.5,4.5,0,0,0,4.5,9.75H6.75ZM14.6,6.023,11.25,9.75H13.5a4.5,4.5,0,0,1-7.631,3.226l-1.5,1.673A6.743,6.743,0,0,0,15.75,9.75H18L14.6,6.023Z",transform:"translate(1.13 -2.5)",strokeMiterlimit:"10"})))},Jo=function(){return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.346",height:"18.346",viewBox:"0 0 17.346 18.346",className:Kt},o().createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M4.752,15.043,0,16,.96,11.25ZM1.9,10.307,5.694,14.1,16,3.793,12.208,0,1.9,10.307Z",transform:"translate(0.64 0.71)"}))},Ho=function(){return o().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.416",height:"15.083",viewBox:"0 0 17.416 15.083",className:Kt},o().createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M13.523,2,6,9.711,2.476,6.371,0,8.848l6,5.819L16,4.477Z",transform:"translate(0.71 -1.29)"}))};var zo="editButton___JP8L6",Go="titleContainer___lT0W1",Vo="title___EvphW",Wo="titleEditor___vZUiD",Qo="titleEditorInput___hHk0d",Yo="saveButton___C0MIr",Xo=(0,r.memo)((function(e){var t=e.defaultTitle,n=e.save,a=(0,r.useState)(t),s=a[0],c=a[1],u=(0,r.useState)(s),l=u[0],d=u[1],f=(0,r.useState)(!1),m=f[0],p=f[1],b=(0,r.useCallback)((function(){s!==l&&(c(l),n(l))}),[l,s,n]),v=(0,r.useCallback)((function(){return p(!0)}),[]),y=(0,r.useCallback)((function(){return p(!1)}),[]),g=(0,r.useCallback)((function(e){d(e.target.value),e.preventDefault()}),[]),h=function(e){var t=e.onSave,n=(0,r.useState)(!1),o=n[0],a=n[1],s=(0,r.useState)(null),c=s[0],u=s[1],i=(0,r.useState)(null),l=i[0],d=i[1],f=Y(c),m=Y(l),p=(0,r.useCallback)((function(){a(!0),setTimeout((function(){m.focus()}))}),[m.focus]),b=(0,r.useCallback)((function(){a(!1),setTimeout((function(){f.focus()}))}),[a,f.focus]),v=(0,r.useCallback)((function(e){t(),b(),e.stopPropagation()}),[t,b]),y=p,g=V(p),h=Q(W(b),V(v)),_=Q(G(m.focus),V(v));return{isActive:o,setActive:a,containerRefFocuser:f,containerRef:c,setContainerRef:u,setInputRef:d,inputRef:l,onDeactivate:b,onContainerClick:y,onContainerKeyDown:g,onSaveButtonKeyDown:_,onInputKeyDown:h}}({onSave:b}),_=(0,r.useMemo)((function(){return!h.isActive&&o().createElement("p",{className:Vo},s)}),[h.isActive,s]),E=(0,r.useMemo)((function(){return m&&!h.isActive&&o().createElement("button",{type:"button",className:zo,"aria-label":"Edit title"},o().createElement(Jo,null))}),[m,h.isActive]),w=(0,r.useMemo)((function(){return h.isActive&&o().createElement("div",{className:Wo},o().createElement("input",{ref:h.setInputRef,className:Qo,type:"text",value:l,onChange:g,onKeyDown:h.onInputKeyDown,"aria-label":"Slot title"}),o().createElement("button",{type:"button",className:i()(Yo,qt),onKeyDown:h.onSaveButtonKeyDown,onClick:function(e){e.stopPropagation(),b(),h.setActive(!1)},"aria-label":"Save"},o().createElement(Ho,null)))}),[h.isActive,l,g,h.setInputRef,h.onSaveButtonKeyDown,h.onInputKeyDown,b]);return o().createElement("div",{ref:h.setContainerRef,className:Go,onClick:h.onContainerClick,onKeyDown:h.onContainerKeyDown,onMouseEnter:v,onMouseLeave:y,tabIndex:0,role:"button","aria-label":s},_,w,E)})),Zo="slotItems___frdUy",$o="slotItem___Q4PdO",ea="extraCount___c4zaN",ta="slotItem___cpoYK",na="img___CsuSv",ra="blank___g_v27",oa="glowBox___pHsHU",aa="notExists___fSTps",sa=function(){return sa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sa.apply(this,arguments)},ca=(0,r.memo)((function(e){var t,n=e.className,a=e.index,s=e.name,c=e.itemID,u=e.slotId,l=e.type,d=e.exists,f=e.glowClass,m=e.setRef,p=e.onFocus,b=e.isBlank,v=i()(ta,!d&&aa,n),y='"'.concat(s,'" item'),g=(0,r.useCallback)((function(e){m(a,e)}),[a]),h=(0,r.useCallback)((function(){p(a)}),[a]),_=c?Yt(c,"small"):Zt(u);return o().createElement(dn,{content:o().createElement(o().Fragment,null,o().createElement("p",{className:fn},s),o().createElement("p",{className:mn},"(",l,")")),placement:"top"},o().createElement("li",{ref:g,className:v,"aria-label":y,onFocus:h},o().createElement("div",{className:i()(oa,"".concat(f||"glow-default","-background"))},o().createElement("img",sa({className:i()(na,(t={},t[ra]=b,t))},_,{alt:s})))))})),ua=function(){return ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ua.apply(this,arguments)},ia=(0,r.memo)((function(e){var t=e.items,n=t.length,a=(0,r.useMemo)((function(){return n>25}),[n]),s=(0,r.useMemo)((function(){return a?24:n}),[n]),c=ce({lenght:a?s+1:s}),u=(0,r.useCallback)((function(e){c.setItemRef(s,e)}),[s,c.setItemRef]),l=(0,r.useCallback)((function(){c.onItemFocus(s)}),[s,c.onItemFocus]),d=(0,r.useMemo)((function(){return t.slice(0,s).map((function(e,t){return o().createElement(ca,ua({},e,{key:e.uniqueId,index:t,className:$o,setRef:c.setItemRef,onFocus:c.onItemFocus}))}))}),[t,c.setItemRef,c.onItemFocus,s]),f=(0,r.useMemo)((function(){if(n>s){var e=n-s;return o().createElement("li",{ref:u,className:i()(ta,$o),onFocus:l,"aria-label":"Extra ".concat(e," items not shown in this list."),tabIndex:0},o().createElement("div",{className:i()(ea,"glow-default-background")},"+",e))}}),[n,s,u,l]);return o().createElement("ul",{className:Zo,onKeyDown:c.onContainerKeyDown},d,f)})),la="message___bzAFs",da="messageDescription___txx5G",fa="messageButtons___K9zW3",ma="messageButton___uM7t3",pa="important___U_cUG",ba="textRow___du_74",va=function(e){var t=e.message,n=e.onOkay,a=e.onYes,s=e.onNo,c=e.wai,u=(0,r.useCallback)((function(e){c.setLastRef(e),c.setDeactivatorRef(e)}),[c.setLastRef,c.setDeactivatorRef]),l=(0,r.useCallback)((function(){c.activatorRef&&c.activatorRef.focus(),c.setActive(!1),a()}),[a,c.activatorRef]),d=(0,r.useMemo)((function(){return Array.isArray(t)?t.map((function(e){return o().createElement("span",{key:e,className:ba},e)})):t}),[n]),f=(0,r.useMemo)((function(){return i()(fa,a&&pa)}),[a]),m=(0,r.useMemo)((function(){return a?o().createElement(o().Fragment,null,o().createElement("button",{onClick:l,type:"button",className:ma},"Yes"),o().createElement("button",{ref:u,type:"button",className:ma,onClick:s},"No")):o().createElement("button",{ref:u,type:"button",className:ma,onClick:n},"Okay")}),[n,s,a,c.setLastRef]);return o().createElement("div",{ref:c.setContainerRef,className:la},o().createElement("p",{ref:c.setFirstRef,className:da,tabIndex:0,role:"alert","aria-live":"assertive"},d),o().createElement("div",{className:f},m))},ya=function(e){var t=e.message,n=e.onOkay,a=e.onYes,s=e.onNo,c=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],o=(0,r.useState)(null),a=o[0],s=o[1],c=(0,r.useState)(null),u=c[0],i=c[1],l=(0,r.useState)(null),d=l[0],f=l[1],m=(0,r.useState)(null),p=m[0],b=m[1],v=(0,r.useState)(null),y=v[0],g=v[1],h=(0,r.useState)(null),_=h[0],E=h[1],w=(0,r.useCallback)((function(){n(!0)}),[n]),I=(0,r.useCallback)((function(e){"Escape"===e.key&&(u&&u.focus(),n(!1))}),[u,n]),k=(0,r.useCallback)((function(e){"Enter"===e.key&&n(!0)}),[u,n]),S=(0,r.useCallback)((function(e){u&&u.focus(),n(!1),e.stopPropagation(),e.preventDefault()}),[u,n]),C=(0,r.useCallback)((function(e){"Enter"===e.key&&(u&&u.focus(),n(!1),e.stopPropagation(),e.preventDefault())}),[u,n]),M=(0,r.useCallback)((function(e){"Tab"===e.key&&a!==p&&(d&&d.focus(),e.preventDefault())}),[d,a,p]);return(0,r.useEffect)((function(){return u&&u.addEventListener("click",w),function(){u&&u.removeEventListener("click",w)}}),[u,w]),(0,r.useEffect)((function(){return a&&(a.addEventListener("keydown",I),a.addEventListener("keypress",k)),function(){a&&(a.removeEventListener("keydown",I),a.removeEventListener("keypress",k))}}),[a,I,k]),(0,r.useEffect)((function(){return y&&(y.focus(),y.addEventListener("keydown",C),y.addEventListener("click",S)),function(){y&&(y.removeEventListener("keydown",C),y.removeEventListener("click",S))}}),[y,S]),(0,r.useEffect)((function(){return _&&(y||_.focus(),_.addEventListener("keydown",C),_.addEventListener("click",S)),function(){_&&(_.removeEventListener("keydown",C),_.removeEventListener("click",S))}}),[_,S]),(0,r.useEffect)((function(){return p&&p.addEventListener("keydown",M),function(){p&&p.removeEventListener("keydown",M)}}),[p,M]),(0,r.useEffect)((function(){d&&d.focus()}),[d]),{isActive:t,setContainerRef:s,setActivatorRef:i,setFirstRef:f,setLastRef:b,setDeactivatorRef:g,setDeactivatorAdditionalRef:E,setActive:n,containerRef:a,activatorRef:u,deactivatorRef:y,deactivatorAdditionalRef:_,firstRef:d,lastRef:p}}();return{view:(0,r.useMemo)((function(){return o().createElement(va,{message:t,onOkay:n,onYes:a,onNo:s,wai:c})}),[t,n,a,s,c]),wai:c}};var ga="slot___sOy0e",ha="header___DhvbX",_a="body___tmwl0",Ea="current___IkEyu",wa="buttons___TKVmy",Ia="button___xFQCD",ka=(0,r.memo)((function(e){var t=e.className,n=e.index,a=e.slotId,c=e.title,u=e.items,l=e.blank,d=e.setRef,f=e.onFocus,m=(0,s.wA)(),p=(0,s.d4)(Te),b=(0,r.useMemo)((function(){return a===p}),[a,p]),v=function(e){var t=e.index,n=e.setRef,o=e.onFocus,a=(0,r.useCallback)((function(e){return n(t,e)}),[t,n]),s=(0,r.useCallback)((function(){return o(t)}),[t,o]);return{setIndexedRef:(0,r.useMemo)((function(){if(n)return a}),[a,n]),onFocusHandler:(0,r.useMemo)((function(){if(n)return s}),[s,o])}}({index:n,setRef:d,onFocus:f}),y=v.setIndexedRef,g=v.onFocusHandler,h=(0,r.useCallback)((function(){m(Ot(a))}),[a,m,Ot]),_=ya({message:["Are you sure you want","to reset this loadout?"],onYes:h}),E=_.view,w=_.wai,I=ya({message:["This is your current Loadout.","Please switch to a different one","to reset this slot."]}),k=I.view,S=I.wai,C=ya({message:["This is a blank Loadout.","You can't reset it."]}),M=C.view,D=C.wai,A=(0,r.useCallback)((function(e){b?S.setActivatorRef(e):l?D.setActivatorRef(e):w.setActivatorRef(e)}),[b,l,D.setActivatorRef,w.setActivatorRef,S.setActivatorRef]),T=(0,r.useCallback)((function(){return m(vt(a))}),[m,a]),R=(0,r.useCallback)((function(e){return m(ft({slotId:a,nextTitle:e}))}),[a]),x=(0,r.useMemo)((function(){var e;return i()(ga,((e={})[Ea]=b,e),t)}),[b,t]),O=(0,r.useMemo)((function(){return w.isActive?E:S.isActive?k:D.isActive?M:o().createElement(ia,{items:u})}),[u,w.isActive,S.isActive,D.isActive]),L=(0,r.useMemo)((function(){return'"'.concat(c,b?'" is the current set':'" set')}),[c,b]);return o().createElement("li",{ref:y,className:x,onFocus:g,"aria-label":L},o().createElement("header",{className:ha},o().createElement(Xo,{defaultTitle:c,save:R}),o().createElement("div",{className:wa},o().createElement("button",{type:"button",ref:A,className:i()(Ia,qt),"aria-label":"Reset loadout"},o().createElement(qo,{disabled:b})),o().createElement("button",{type:"button",className:i()(Ia,qt),onClick:T,"aria-label":"Equip loadout",disabled:b},o().createElement(Bo,{disabled:b})))),o().createElement("section",{className:_a},O))})),Sa=function(){return Sa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sa.apply(this,arguments)},Ca=(0,r.memo)((function(){var e=(0,s.d4)(Ce),t=ce({lenght:(0,s.d4)(Pe)}),n=(0,r.useMemo)((function(){return e.map((function(e,n){return o().createElement(ka,Sa({key:e.slotId,index:n,className:Ko,setRef:t.setItemRef,onFocus:t.onItemFocus},e))}))}),[e,t.setItemRef]);return o().createElement("ul",{className:Fo,onKeyDown:t.onContainerKeyDown},n)})),Ma="slots___Klm22",Da="leftHighlight___tZRMK",Aa="rightHighlight____iFAH",Ta="sliderContainer___Dbzcu",Ra="slot___wCE_A",xa="navigation___XZOc7",Oa="button___unTah",La="active___kkpwI",Na=(0,r.memo)((function(e){var t=e.index,n=e.active,a=e.setRef,s=e.onFocus,c=e.onActivate,u=(0,r.useCallback)((function(e){return a(t,e)}),[t,a]),l=(0,r.useCallback)((function(){return c(t)}),[c,t]),d=(0,r.useCallback)((function(){return s(t)}),[t,s]),f=(0,r.useMemo)((function(){return"Select ".concat(t," slot")}),[t]);return o().createElement("button",{type:"button",ref:u,onFocus:d,className:i()(Oa,n&&La),onClick:l,"aria-label":f})}));function Pa(e,t){void 0===t&&(t=75);var n=(0,r.useCallback)((function(){e(!0)}),[e]),o=(0,r.useCallback)((function(){e(!1)}),[e]),a=function(e,t){void 0===t&&(t=75);var n=(0,r.useState)(null),o=n[0],a=n[1],s=(0,r.useCallback)((function(n){if(null!==o){var r=n.touches?n.touches[0].clientX:n.clientX,s=o-r;s>t?(e(),a(r)):s<-t&&a(r)}}),[o,e,a]),c=(0,r.useCallback)((function(e){a(null)}),[a]),u=(0,r.useCallback)((function(e){var t=e.touches?e.touches[0].clientX:e.clientX;a(t)}),[a]);return{onTouchStart:u,onMouseDown:u,onTouchMove:s,onMouseMove:s,onTouchEnd:c,onMouseUp:c}}(n,t),s=function(e,t){void 0===t&&(t=75);var n=(0,r.useState)(null),o=n[0],a=n[1],s=(0,r.useCallback)((function(n){if(null!==o){var r=n.touches?n.touches[0].clientX:n.clientX,s=o-r;s<-t?(e(),a(r)):s>t&&a(r)}}),[o,e,a]),c=(0,r.useCallback)((function(e){a(null)}),[a]),u=(0,r.useCallback)((function(e){var t=e.touches?e.touches[0].clientX:e.clientX;a(t)}),[a]);return{onTouchStart:u,onMouseDown:u,onTouchMove:s,onMouseMove:s,onTouchEnd:c,onMouseUp:c}}(o,t),c=(0,r.useCallback)((function(e){a.onTouchStart(e),a.onMouseDown(e),s.onTouchStart(e),s.onMouseDown(e)}),[a.onTouchStart,a.onMouseDown,s.onTouchStart,s.onMouseDown]),u=(0,r.useCallback)((function(e){a.onTouchMove(e),a.onMouseMove(e),s.onTouchMove(e),s.onMouseMove(e)}),[a.onTouchMove,a.onMouseMove,s.onTouchMove,s.onMouseMove]),i=(0,r.useCallback)((function(e){a.onTouchEnd(e),a.onMouseUp(e),s.onTouchEnd(e),s.onMouseUp(e)}),[a.onTouchEnd,a.onMouseUp,s.onTouchEnd,s.onMouseUp]);return{onTouchStart:c,onMouseDown:c,onTouchMove:u,onMouseMove:u,onTouchEnd:i,onMouseUp:i}}var Ua=function(){return Ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ua.apply(this,arguments)},ja=(0,r.memo)((function(){var e=(0,r.useState)(0),t=e[0],n=e[1],a=(0,s.d4)(Ce),c=(0,s.d4)(Pe),u=ce({lenght:c}),l=(0,r.useMemo)((function(){return a.map((function(e,t){return o().createElement(ka,Ua({key:e.slotId,index:t,className:Ra},e))}))}),[a]),d=(0,r.useMemo)((function(){return a.map((function(e,r){return o().createElement(Na,{key:r,index:r,active:t===r,setRef:u.setItemRef,onFocus:u.onItemFocus,onActivate:n})}))}),[a,t,u.setItemRef,u.onItemFocus,n]),f=(0,r.useMemo)((function(){return i()(Ma,t>0&&Da,t<a.length-1&&Aa)}),[t,a.length]),m=Pa((0,r.useCallback)((function(e){n(e?t<c-1?t+1:0:t>0?t-1:c-1)}),[t,c,n])),p=(0,s.d4)(we),b=(0,r.useMemo)((function(){return{transform:"translateX(-".concat(t*p,"px)")}}),[t,p]);return o().createElement("div",Ua({className:f},m),o().createElement("ul",{className:Ta,style:b},l),o().createElement("aside",{className:xa,onKeyDown:u.onContainerKeyDown},d))})),Fa="main___QuzF7",Ka="header___f_BFs",Ba="minimize___KNpwm",qa="title___nIMRx",Ja="content___Gb8DR",Ha="icons___VmEI4",za="button___MO5cW",Ga="setsIcon___YWKBR",Va="backIcon___H1fQq",Wa=function(){return Wa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wa.apply(this,arguments)},Qa=(0,r.memo)((function(){var e,t=(0,s.wA)();(0,r.useEffect)((function(){return N((function(e){return t(rt(e))})),t(ct()),function(){P()}}),[]);var n=function(e,t){var n=(0,r.useMemo)((function(){return se.hasKey({storeKey:e})?se.getStore({storeKey:e}):se.addStore({storeKey:e,storeData:t})}),[e,t]),o=(0,r.useState)(n),a=o[0],s=o[1];return[a,(0,r.useCallback)((function(t){s(t),se.updateStore({storeKey:e,storeData:t})}),[s,e])]}("contentIsShowing",!0),a=n[0],c=n[1],u=(0,r.useState)(!1),l=u[0],d=u[1],f=(0,s.d4)(Be),m=(0,s.d4)(U).is.desktop,p=(0,s.d4)(Ee),b=(0,r.useCallback)((function(){return c(!a)}),[a]),v=(0,r.useCallback)((function(){d(!l),c(!0)}),[d,l,c]),y=(0,r.useMemo)((function(){return l?m?o().createElement(Ca,null):o().createElement(ja,null):o().createElement(jo,null)}),[l,m]),g=(0,r.useMemo)((function(){return a&&o().createElement("div",{className:Ja},y)}),[a,y]),h=(0,r.useMemo)((function(){return l?o().createElement("button",{type:"button",className:i()(za,Va,qt),onClick:v,"aria-label":"Back"},o().createElement(Gt,null)):o().createElement("button",{type:"button",className:i()(za,Ga),onClick:v,"aria-label":"Loadouts"})}),[l]),_=(0,r.useMemo)((function(){return a?o().createElement("button",{type:"button",className:i()(za,qt),onClick:b,"aria-label":"Collapse"},o().createElement(Ht,null)):o().createElement("button",{type:"button",className:i()(za,qt),onClick:b,"aria-label":"Open"},o().createElement(zt,null))}),[a]);return o().createElement(o().Fragment,null,o().createElement(Vt,null),o().createElement(D,Wa({},p,{showDangerously:!0})),o().createElement("div",{className:Fa},o().createElement("header",{className:i()(Ka,(e={},e[Ba]=!a,e))},o().createElement("p",{className:qa,role:"heading","aria-level":2},f),o().createElement("nav",{className:Ha},h,_)),g))})),Ya=n(7798),Xa=[{itemID:null,slotId:"1",uniqueId:"blank-1",type:de,name:"Empty",ammoType:null,bonuses:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],upgrades:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],damage:null,accuracy:null,weptype:"4",armoryId:"8",exists:!0,isBlank:!0},{slotId:"2",uniqueId:"blank-2",type:fe,name:"Empty",ammoType:null,bonuses:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],upgrades:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],damage:null,accuracy:null,weptype:"4",armoryId:"8",exists:!0,isBlank:!0},{slotId:"3",uniqueId:"blank-3",type:me,name:"Empty",ammoType:null,bonuses:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],upgrades:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],damage:null,accuracy:null,weptype:"4",armoryId:"8",exists:!0,isBlank:!0},{slotId:"5",uniqueId:"blank-4",type:pe,name:"Empty",ammoType:null,bonuses:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],upgrades:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],damage:null,accuracy:null,weptype:"4",armoryId:"8",exists:!0,isBlank:!0},{slotId:"6",uniqueId:"blank-6",type:be,name:"Empty",ammoType:null,bonuses:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],upgrades:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],damage:null,accuracy:null,weptype:"4",armoryId:"8",exists:!0,isBlank:!0},{slotId:"4",uniqueId:"blank-5",type:be,name:"Empty",ammoType:null,bonuses:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],upgrades:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],damage:null,accuracy:null,weptype:"4",armoryId:"8",exists:!0,isBlank:!0},{slotId:"7",uniqueId:"blank-7",type:be,name:"Empty",ammoType:null,bonuses:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],upgrades:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],damage:null,accuracy:null,weptype:"4",armoryId:"8",exists:!0,isBlank:!0},{slotId:"8",uniqueId:"blank-8",type:be,name:"Empty",ammoType:null,bonuses:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],upgrades:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],damage:null,accuracy:null,weptype:"4",armoryId:"8",exists:!0,isBlank:!0},{slotId:"9",uniqueId:"blank-9",type:be,name:"Empty",ammoType:null,bonuses:[{icon:"bonus-attachment-emasculated",title:"Emasculate",hoverover:"<b>Emasculate</b><br/>Happiness increased by 15% of maximum upon final hit"},{id:"blank-bonus-1",icon:"blank-bonus-25"}],upgrades:[{id:"blank-bonus-1",icon:"blank-bonus-25"},{id:"blank-bonus-2",icon:"blank-bonus-25"}],damage:null,accuracy:null,weptype:"4",armoryId:"8",exists:!0,isBlank:!0}],Za=["1","2","3","5","6","4","7","8","9"],$a=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},es={isDarkMode:null,infoBox:{loading:!1,msg:null,color:null,log:null},loadouts:{equippedItems:$a([],Xa,!0),equipedModelItems:[],slots:[],settings:{currentSlotId:null,slotsMax:null,gender:""},isLoading:!0,error:!1,isEquipedItemsLoading:!1,equipedItemsError:!1,isResetSlotLoading:!0,resetSlotError:!1,isSwitchAmmoLoading:!1,switchAmmoError:!1},upgrades:{list:[],descs:{},isLoaded:!1,isDescsLoaded:!1,isLoading:!1,error:!1},itemInReviewIndex:se.hasKey({storeKey:"itemInReviewIndex"})?se.getStore({storeKey:"itemInReviewIndex"}):se.addStore({storeKey:"itemInReviewIndex",storeData:0})},ts=(0,ie.vy)(es,(function(e){e.addCase(ot,(function(e,t){e.infoBox.msg=t.payload,e.infoBox.color="red"})).addCase(at,(function(e){e.infoBox={loading:!1,msg:null,color:null,log:null}})).addCase(st,(function(e,t){var n=t.payload,r=n.equippedItems,o=n.equipedModelItems,a=n.slots,s=n.settings;e.loadouts.equippedItems=r,e.loadouts.equipedModelItems=o,e.loadouts.slots=a,e.loadouts.settings=s})).addCase(rt,(function(e,t){e.isDarkMode=t.payload})).addCase(ct,(function(e){e.loadouts.isLoading=!0,e.loadouts.error=!1})).addCase(ut,(function(e){e.loadouts.isLoading=!1})).addCase(it,(function(e){e.loadouts.isLoading=!1,e.loadouts.error=!0})).addCase(lt,(function(e,t){e.itemInReviewIndex=t.payload,se.addStore({storeKey:"itemInReviewIndex",storeData:e.itemInReviewIndex})})).addCase(bt,(function(e,t){e.loadouts.settings.currentSlotId=t.payload})).addCase(vt,(function(e){e.loadouts.isEquipedItemsLoading=!0,e.loadouts.equipedItemsError=!1})).addCase(yt,(function(e){e.loadouts.isEquipedItemsLoading=!1})).addCase(gt,(function(e){e.loadouts.isEquipedItemsLoading=!1,e.loadouts.equipedItemsError=!1})).addCase(Ot,(function(e){e.loadouts.isResetSlotLoading=!0,e.loadouts.resetSlotError=!1})).addCase(Lt,(function(e){e.loadouts.isResetSlotLoading=!1})).addCase(Nt,(function(e){e.loadouts.isResetSlotLoading=!1,e.loadouts.resetSlotError=!0})).addCase(It,(function(e){e.upgrades.isLoading=!0,e.upgrades.error=!1})).addCase(kt,(function(e){e.upgrades.isLoaded=!0,e.upgrades.isLoading=!1})).addCase(wt,(function(e,t){e.upgrades.list=t.payload})).addCase(St,(function(e){e.upgrades.isLoading=!1,e.upgrades.error=!0})).addCase(_t,(function(e,t){e.upgrades.descs=t.payload,e.upgrades.isDescsLoaded=!0})).addCase(Pt,(function(e,t){var n=t.payload,r=n.slotId,o=n.nextTitle;e.loadouts.slots.forEach((function(e){e.slotId===r&&(e.title=o)}))})).addCase(xt,(function(e,t){var n=t.payload,r=n.itemId,o=n.itemUpgrades,a=e.loadouts.equippedItems.findIndex((function(e){return e.uniqueId===r}));e.loadouts.equippedItems[a].upgrades=o})).addCase(Ut,(function(e){e.loadouts.isSwitchAmmoLoading=!0,e.loadouts.switchAmmoError=!1})).addCase(jt,(function(e,t){var n,r=t.payload,o=r.armoryId,a=r.currentAmmoType,s=r.clips;e.loadouts.equippedItems=e.loadouts.equippedItems.map((function(e){return e.armoryId===o?(n=e.ammoType,Object.assign(e,{currentAmmoType:a,clips:s})):e})),e.loadouts.equippedItems=e.loadouts.equippedItems.map((function(e){return e.ammoType===n?Object.assign(e,{currentAmmoType:a}):e})),e.loadouts.isSwitchAmmoLoading=!1})).addCase(Ft,(function(e){e.loadouts.isSwitchAmmoLoading=!1,e.loadouts.switchAmmoError=!0}))})),ns={common:es,browser:void 0},rs=((0,n(7783).createLogger)({collapsed:!0,timestamp:!1,diff:!0}),n(1028)),os=n(9979),as=n(1207),ss=n(4763),cs=function(e,t){var n={credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}};if(t)if(n.method="post","JSON"===e)Object.assign(n.headers,{Accept:"application/json","Content-Type":"application/json"}),n.body=JSON.stringify(t);else n.body=function(e){var t=new FormData;return Object.keys(e).forEach((function(n){var r=typeof e[n];["number","string"].includes(r)?t.append(n,e[n]):t.append(n,JSON.stringify(e[n]))})),t}(t);return n},us=function(e,t,n){var r=void 0===n?{}:n,o=r.bodyType,a=void 0===o?"FormData":o,s=r.addRFC,c=(void 0===s||s)&&window.addRFC?window.addRFC(e):e,u=cs(a,t);return fetch(c,u).then((function(e){if(403===e.status)throw new Error("Access Forbidden");return e.text().then((function(t){try{if(403===e.status)return{};var n=t&&"null"!==t?JSON.parse(t):{};return n.bh_redirect?(window.location.replace(n.bh_redirect),{}):n}catch(e){throw function(e){var t={credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}};e&&(t.method="post",t.body=JSON.stringify({desc:window.location.href,data:e})),fetch("/loader.php?sid=setClientLog",t)}({desc:window.location.href,error:e&&e.toString(),responce:t}),new Error("Malformed response")}}))})).catch((function(e){throw e}))},is=((0,ss.A)(2,(function(e,t,n,r){return Zr()(e,us)(t,n,r)})),"/page.php?sid=itemsLoadouts&step=getEquippedItems"),ls=function(e,t){return"/page.php?sid=itemsLoadouts&step=changeLoadoutTitle&setID=".concat(e,"&title=").concat(t)},ds=function(e){return"/page.php?sid=itemsLoadouts&step=changeLoadout&setID=".concat(e)},fs="/page.php?sid=itemsModsData&step=getUserUpgrades",ms="/page.php?sid=itemsModsData&step=getAllUpgrades",ps=function(e){var t=e.itemId,n=e.detachUpgradeId,r=void 0===n?"":n,o=e.attachUpgradeId;return"/page.php?sid=itemsModsData&step=reattach"+"&armouryID=".concat(t,"&upgradeID=").concat(o,"&replaceUpgradeID=").concat(r)},bs=function(e){var t=e.itemId,n=e.upgradeId;return"/page.php?sid=itemsModsData&step=detach&armouryID=".concat(t,"&upgradeID=").concat(n)},vs=function(e){return"page.php?sid=itemsLoadouts&step=clearLoadout&setID=".concat(e)},ys=function(e){return"page.php?sid=itemsLoadouts&step=changeAmmoType&armouryID=".concat(e)},gs=function(){return gs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gs.apply(this,arguments)},hs=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},_s=[0,1],Es=function(e){var t,n,r=(t=e,n=function(e,t){var n=_s.map((function(t,n){if(e.currentBonuses&&e.currentBonuses[n]){var r=e.currentBonuses[n];return{id:r.bonusID,icon:r.icon,title:r.title,desc:r.desc,hoverover:r.hoverover}}return{id:"blank-bonus-".concat(n),icon:"blank-bonus-25"}})),r=_s.map((function(t,n){if(e.currentUpgrades&&e.currentUpgrades[n]){var r=e.currentUpgrades[n];return{id:r.upgradeID,icon:r.icon,title:r.title,desc:r.desc,hoverover:r.hoverover}}return null})),o=e.type2;return{itemID:e.itemID,uniqueId:e.uniqueId,name:e.name,type:o,slotId:t,damage:e.dmg,bonuses:n,upgrades:r,armor:e.arm,accuracy:e.accuracy,weptype:e.weptype,armoryId:e.armouryID,exists:e.exists,expPercent:e.expPercent,ammoType:e.ammotype,currentAmmoType:e.currentAmmoType,clips:e.clips,isDual:"1"===e.isDual,glowClass:e.glowClass,total:e.total}},K()(Object.entries(t).map((function(e,t){var r=e[0],o=e[1];return[r,n(o,r,t)]})))),o=[],a=gs({},r);return Za.forEach((function(e){var t=r[e];if(t)return delete a[e],o.push(t);var n=Xa.findIndex((function(t){return t.slotId===e})),s=Xa[n];return o.push(gs({},s))})),function(e,t){Object.entries(e).forEach((function(e,n){var r=e[0],o=e[1];return t(o,r,n)}))}(a,(function(e){o.push(e)})),o},ws=(0,le.Mz)([function(e){return e}],(function(e){var t=e.pureItems,n=e.isCurrentSlot,r=e.currentItems;return n?r.map((function(e){return gs(gs({},e),{exists:!0})})):t?Es(t):hs([],Xa,!0)})),Is=(0,le.Mz)([function(e){return e}],(function(e){var t=e.pureSlots,n=e.slotsMax,r=void 0===n?3:n,o=e.currentSlotId,a=e.currentItems;return Array.from({length:r}).map((function(e,n){var r=(n+1).toString(),s=t[r],c=!s;if(!s){var u=ws({isCurrentSlot:r===o,isBlank:c,currentItems:a});return{slotId:r,title:"Loadout #".concat(r),items:u,blank:!0}}var i=s.setID.toString();return{slotId:i,title:s.title||"Loadout #".concat(i),items:ws({pureItems:s.items,isCurrentSlot:i===o,isBlank:c,currentItems:a}),blank:!1}}))})),ks=(0,le.Mz)([function(e){return e}],(function(e){var t=e,n=t.pureEquippedItems,r=t.pureHairs,o=K()(Object.entries(n).map((function(e){return[e[0],{item:[e[1]]}]}))),a=K()(Object.entries(r).map((function(e){return[e[0],{item:[e[1]]}]})));return gs(gs({},o),a)})),Ss=function(e){var t=e.currentItems,n=e.currentHairs,r=e.currentLoadouts,o=e.currentSettings,a=e.gender,s=Es(t),c=o.currentSetID.toString(),u=o.setsMax,i=Is({pureSlots:r,slotsMax:u,currentItems:s,currentSlotId:c}),l=i.find((function(e){return c===e.slotId})),d=l?l.title:"",f={currentSlotId:c,slotsMax:o.setsMax,gender:a,slotName:d};return{equippedItems:s,equipedModelItems:ks({pureEquippedItems:t,pureHairs:n}),slots:i,settings:f}},Cs=((0,le.Mz)([function(e){return e.id},function(e){return e.descs}],(function(e,t){return n=t,r=function(t){return e===t.ID},o=Object.entries(n).find((function(e,t){var n=e[0],o=e[1];return r(o,n,t)})),o?o[1]:null;var n,r,o})),(0,le.Mz)([function(e){return e}],(function(e){return K()(e.map((function(e){var t=e.ID;return[t,{id:t,title:e.title,cssClass:e.cssClass,description:e.description,effectDesc:e.effectDesc,compatibility:e.compatibility,icon:e.icon,type:e.type,category:e.category,isDual:"1"===e.dualFit}]})))}))),Ms=(0,le.Mz)([function(e){return e}],(function(e){var t=e.pureUpgrade,n=e.desc,r=t.armouryID,o=t.armoury,a=t.attached,s=t.cost,c=t.value,u=n.id,i=n.cssClass,l=n.description,d=n.effectDesc,f=n.compatibility,m=n.type,p=n.isDual;return{id:u,imgClassName:"mod-icon-small-".concat(i),abbilityTitle:"".concat(l," ").concat(d),compatibility:f,type:m,attachedToItemId:r,attached:"true"===a,armouryList:o,isDual:p,cost:s,value:c}})),Ds=(0,le.Mz)([Oe,function(e,t){return t}],(function(e,t){return t.map((function(t){return Ms({pureUpgrade:t,desc:e[t.upgradeID]})}))})),As=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Ts(e){var t;return As(this,(function(n){switch(n.label){case 0:return[4,(0,os.Lt)(Me)];case 1:return t=n.sent(),e.equippedItems.length-1<t?[4,(0,os.yJ)(lt(e.equippedItems.length-1))]:[3,3];case 2:n.sent(),n.label=3;case 3:return[4,(0,os.yJ)(st(e))];case 4:return n.sent(),[2]}}))}var Rs=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function xs(){var e,t;return Rs(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,7]),[4,us(is)];case 1:if((e=n.sent()).error)throw new Error(e.error);return[4,Ts(Ss(e))];case 2:return n.sent(),[4,(0,os.yJ)(ut())];case 3:case 6:return n.sent(),[3,7];case 4:return t=n.sent(),console.error(t),[4,(0,os.yJ)(it())];case 5:return n.sent(),[4,(0,os.yJ)(ot(t.message))];case 7:return[2]}}))}var Os=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Ls(e){var t,n,r,o,a,s,c;return Os(this,(function(u){switch(u.label){case 0:return t=e.payload,n=t.slotId,r=t.nextTitle,[4,(0,os.Lt)(Te)];case 1:return o=u.sent(),[4,(0,os.Lt)(Be)];case 2:return a=u.sent(),[4,(0,os.yJ)(Pt({slotId:n,nextTitle:r}))];case 3:u.sent(),u.label=4;case 4:return u.trys.push([4,10,,15]),[4,us(ls(n,encodeURIComponent(r)))];case 5:if((s=u.sent()).error)throw s.error;return s.title===r?[3,7]:[4,(0,os.yJ)(Pt({slotId:n,nextTitle:s.title}))];case 6:u.sent(),u.label=7;case 7:return[4,(0,os.yJ)(mt())];case 8:return u.sent(),[4,(0,os.yJ)(at())];case 9:return u.sent(),[3,15];case 10:return c=u.sent(),console.error(c),[4,(0,os.yJ)(pt())];case 11:return u.sent(),o!==n?[3,13]:[4,(0,os.yJ)(Pt(a))];case 12:u.sent(),u.label=13;case 13:return[4,(0,os.yJ)(ot(c.message))];case 14:return u.sent(),[3,15];case 15:return[2]}}))}var Ns=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Ps(e){var t,n,r,o;return Ns(this,(function(a){switch(a.label){case 0:return t=e.payload,[4,(0,os.Lt)(Te)];case 1:return n=a.sent(),[4,(0,os.yJ)(bt(t))];case 2:a.sent(),a.label=3;case 3:return a.trys.push([3,8,,12]),[4,us(ds(t))];case 4:if((r=a.sent()).error)throw new Error(r.error);return[4,Ts(Ss(r))];case 5:return a.sent(),[4,(0,os.yJ)(yt())];case 6:return a.sent(),[4,(0,os.yJ)(at())];case 7:return a.sent(),[3,12];case 8:return o=a.sent(),console.error(o),[4,(0,os.yJ)(bt(n))];case 9:return a.sent(),[4,(0,os.yJ)(gt())];case 10:return a.sent(),[4,(0,os.yJ)(ot(o.message))];case 11:return a.sent(),[3,12];case 12:return[2]}}))}var Us=function(){return Us=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Us.apply(this,arguments)},js=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Fs=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Ks(e){return e.sort((function(e,t){return!e&&t?1:e&&!t?-1:0}))}function Bs(e){var t,n,r=e.itemId,o=e.upgradeId;return js(this,(function(e){switch(e.label){case 0:return[4,(0,os.Lt)(Re)];case 1:return t=e.sent(),n=t.map((function(e){return e.id===o?Us(Us({},e),{attached:!0,attachedToItemId:r}):e})),[4,(0,os.yJ)(wt(n))];case 2:return e.sent(),[2,function(){return js(this,(function(e){switch(e.label){case 0:return[4,(0,os.yJ)(wt(t))];case 1:return e.sent(),[2]}}))}]}}))}function qs(e){var t,n,r,o,a,s=e.itemId,c=e.upgradeId,u=e.replaceUpgradeId;return js(this,(function(e){switch(e.label){case 0:return[4,(0,os.Lt)(je)];case 1:return t=e.sent()(s),n=Fs([],t,!0),[4,(0,os.Lt)(nt)];case 2:return r=e.sent()(c),o=n.findIndex((function(e){return!e})),u?(a=n.findIndex((function(e){return e.id===u})))>0&&n.splice(a,1,r):o>=0&&n.splice(o,1,r),n=Ks(n),[4,(0,os.yJ)(xt({itemId:s,itemUpgrades:n}))];case 3:return e.sent(),[2,function(){return js(this,(function(e){switch(e.label){case 0:return[4,(0,os.yJ)(xt({itemId:s,itemUpgrades:t}))];case 1:return e.sent(),[2]}}))}]}}))}function Js(e){var t,n;return js(this,(function(r){switch(r.label){case 0:return[4,(0,os.Lt)(Re)];case 1:return t=r.sent(),n=t.map((function(t){return t.id===e?Us(Us({},t),{attached:!1,attachedToItemId:null}):t})),[4,(0,os.yJ)(wt(n))];case 2:return r.sent(),[2,function(){return js(this,(function(e){switch(e.label){case 0:return[4,(0,os.yJ)(wt(t))];case 1:return e.sent(),[2]}}))}]}}))}function Hs(e){var t,n,r,o=e.itemId,a=e.upgradeId;return js(this,(function(e){switch(e.label){case 0:return[4,(0,os.Lt)(je)];case 1:return t=e.sent()(o),n=Fs([],t,!0),r=n.findIndex((function(e){return e.id===a})),null,n.splice(r,1,null),n=Ks(n),[4,(0,os.yJ)(xt({itemId:o,itemUpgrades:n}))];case 2:return e.sent(),[2,function(){return js(this,(function(e){switch(e.label){case 0:return[4,(0,os.yJ)(xt({itemId:o,itemUpgrades:t}))];case 1:return e.sent(),[2]}}))}]}}))}function zs(e){var t,n,r,o,a,s=e.attachItemId,c=e.attachUpgradeId,u=e.detachItemId,i=e.detachUpgradeId,l=e.extraDetachItemId,d=e.extraDetachUpgradeId;return js(this,(function(e){switch(e.label){case 0:return i?[4,Js(i)]:[3,3];case 1:return t=e.sent(),[4,Hs({itemId:u,upgradeId:i})];case 2:n=e.sent(),e.label=3;case 3:return l?[4,Js(d)]:[3,5];case 4:r=e.sent(),e.label=5;case 5:return s&&c?[4,Bs({itemId:s,upgradeId:c})]:[3,8];case 6:return o=e.sent(),[4,qs({itemId:s,upgradeId:c,replaceUpgradeId:d})];case 7:a=e.sent(),e.label=8;case 8:return[2,function(){return js(this,(function(e){switch(e.label){case 0:return o?[4,o()]:[3,2];case 1:e.sent(),e.label=2;case 2:return r?[4,r()]:[3,4];case 3:e.sent(),e.label=4;case 4:return t?[4,t()]:[3,6];case 5:e.sent(),e.label=6;case 6:return a?[4,a()]:[3,8];case 7:e.sent(),e.label=8;case 8:return n?[4,n()]:[3,10];case 9:e.sent(),e.label=10;case 10:return[2]}}))}]}}))}var Gs=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Vs(){var e,t,n;return Gs(this,(function(r){switch(r.label){case 0:return[4,(0,os.Lt)(Fe)];case 1:return r.sent()?[3,3]:[4,(0,os.s)(_t.type)];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,9,,12]),[4,us(fs)];case 4:if((e=r.sent()).error)throw new Error(e.error);return[4,(0,os.Lt)(Ds,e)];case 5:return t=r.sent(),[4,(0,os.yJ)(wt(t))];case 6:return r.sent(),[4,(0,os.yJ)(kt())];case 7:return r.sent(),[4,(0,os.yJ)(at())];case 8:return r.sent(),[3,12];case 9:return n=r.sent(),console.error(n),[4,(0,os.yJ)(St())];case 10:return r.sent(),[4,(0,os.yJ)(ot(n.message))];case 11:return r.sent(),[3,12];case 12:return[2]}}))}function Ws(e){var t,n,r,o,a,s,c,u,i,l,d;return Gs(this,(function(f){switch(f.label){case 0:return t=e.payload,n=t.attachItemId,r=t.detachItemId,o=t.attachUpgradeId,a=t.detachUpgradeId,s=t.extraDetachItemId,c=t.extraDetachUpgradeId,[4,zs({attachItemId:n,attachUpgradeId:o,detachItemId:r,detachUpgradeId:a,extraDetachItemId:s,extraDetachUpgradeId:c})];case 1:u=f.sent(),f.label=2;case 2:return f.trys.push([2,8,,12]),[4,us(ps({itemId:n,attachUpgradeId:o,detachUpgradeId:o!==a?a:""}))];case 3:if((i=f.sent()).error)throw new Error(i.error);return[4,(0,os.Lt)(Ds,i.result.userUpgrades)];case 4:return l=f.sent(),[4,(0,os.yJ)(wt(l))];case 5:return f.sent(),[4,(0,os.yJ)(Mt())];case 6:return f.sent(),[4,(0,os.yJ)(at())];case 7:return f.sent(),[3,12];case 8:return d=f.sent(),[4,u()];case 9:return f.sent(),console.error(d),[4,(0,os.yJ)(Dt())];case 10:return f.sent(),[4,(0,os.yJ)(ot(d.message))];case 11:return f.sent(),[3,12];case 12:return[2]}}))}function Qs(e){var t,n,r,o,a,s,c;return Gs(this,(function(u){switch(u.label){case 0:return t=e.payload,n=t.itemId,r=t.upgradeId,[4,zs({detachItemId:n,detachUpgradeId:r})];case 1:o=u.sent(),u.label=2;case 2:return u.trys.push([2,8,,12]),[4,us(bs({itemId:n,upgradeId:r}))];case 3:if((a=u.sent()).error)throw new Error(a.error);return[4,(0,os.Lt)(Ds,a.result.userUpgrades)];case 4:return s=u.sent(),[4,(0,os.yJ)(wt(s))];case 5:return u.sent(),[4,(0,os.yJ)(Tt())];case 6:return u.sent(),[4,(0,os.yJ)(at())];case 7:return u.sent(),[3,12];case 8:return c=u.sent(),[4,o()];case 9:return u.sent(),console.error(c),[4,(0,os.yJ)(Rt())];case 10:return u.sent(),[4,(0,os.yJ)(ot(c.message))];case 11:return u.sent(),[3,12];case 12:return[2]}}))}var Ys=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Xs(e){var t,n,r;return Ys(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,8]),t=e.payload,[4,us(vs(t))];case 1:if((n=o.sent()).error)throw new Error(n.error);return[4,Ts(Ss(n))];case 2:return o.sent(),[4,(0,os.yJ)(Lt())];case 3:return o.sent(),[4,(0,os.yJ)(at())];case 4:case 7:return o.sent(),[3,8];case 5:return r=o.sent(),console.error(r),[4,(0,os.yJ)(Nt())];case 6:return o.sent(),[4,(0,os.yJ)(ot(r.message))];case 8:return[2]}}))}var Zs=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function $s(e){var t,n,r,o,a;return Zs(this,(function(s){switch(s.label){case 0:t=e.payload,s.label=1;case 1:return s.trys.push([1,5,,8]),[4,us(ys(t))];case 2:if((n=s.sent()).error)throw n.error;return r=n.clips,o=n.currentAmmoType,[4,(0,os.yJ)(jt({armoryId:t,clips:r,currentAmmoType:o}))];case 3:return s.sent(),[4,(0,os.yJ)(at())];case 4:return s.sent(),[3,8];case 5:return a=s.sent(),console.error(a),[4,(0,os.yJ)(Ft())];case 6:return s.sent(),[4,(0,os.yJ)(ot(a.message))];case 7:return s.sent(),[3,8];case 8:return[2]}}))}var ec=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function tc(){var e,t,n;return ec(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,7]),[4,us(ms)];case 1:if((e=r.sent()).error)throw new Error(e.error);return t=Cs(e),[4,(0,os.yJ)(_t(t))];case 2:return r.sent(),[4,(0,os.yJ)(at())];case 3:case 6:return r.sent(),[3,7];case 4:return n=r.sent(),console.error(n),[4,(0,os.yJ)(Et())];case 5:return r.sent(),[4,(0,os.yJ)(ot(n.message))];case 7:return[2]}}))}var nc=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function rc(){return nc(this,(function(e){switch(e.label){case 0:return[4,(0,os.p8)(ct,xs)];case 1:return e.sent(),[4,(0,os.p8)(ft,Ls)];case 2:return e.sent(),[4,(0,os.p8)(vt,Ps)];case 3:return e.sent(),[4,(0,os.p8)(ht,tc)];case 4:return e.sent(),[4,(0,os.p8)([It,ut],Vs)];case 5:return e.sent(),[4,(0,os.p8)(Ct,Ws)];case 6:return e.sent(),[4,(0,os.p8)(At,Qs)];case 7:return e.sent(),[4,(0,os.p8)(Ot,Xs)];case 8:return e.sent(),[4,(0,os.p8)(Ut,$s)];case 9:return e.sent(),[2]}}))}var oc=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},ac=(0,rs.Ay)(),sc=function(e){return ac.run(e)},cc=(0,as.Ay)(ac);cc.injectSaga,cc.cancelTask;function uc(){return oc(this,(function(e){switch(e.label){case 0:return[4,(0,os.Q7)([rc()])];case 1:return e.sent(),[2]}}))}var ic=ac,lc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},dc={},fc=function(){return function(e){return function(t){(e(t),"object"==typeof t&&"string"==typeof t.type)&&function(e,t){dc[e]&&dc[e].forEach((function(e){e(t)}))}(t.type,lc(t,["type"]))}}},mc=n(9414),pc={mobile:386,tablet:784,desktop:1/0},bc=function(e){var t;void 0===e&&(e=pc);var n=!document.body.classList.contains("r"),r=null===(t=Object.entries(e).find((function(e){return e[1]===1/0})))||void 0===t?void 0:t[0];return(0,Ya.KY)(n?{}:e,{infinity:r})},vc=function(){return vc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vc.apply(this,arguments)},yc=function(e,t){return t},gc=function(e){return(0,c.HY)(vc(vc({},e),{common:ts,routing:mc.C_,lastAction:yc,browser:bc()}))},hc=gc,_c=function(){var e=[ic,fc];var t=(0,ie.U1)({reducer:hc(),preloadedState:ns,enhancers:function(e){return e().concat(Ya.uG)},middleware:function(t){return t().concat(e)}});return t.runSaga=sc,sc(uc),t.asyncReducers={},t}(),Ec=function(){return Ec=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ec.apply(this,arguments)},wc=(0,a.H)(document.getElementById("loadoutsRoot")),Ic=function(e){return o().createElement(s.Kq,{store:_c},o().createElement(Qa,Ec({},e)))},kc=function(){wc.render(o().createElement(Ic,{store:_c}))};kc();var Sc=(0,c.zH)({getEquippedItemsRequestAction:ct},_c.dispatch),Cc={onEquippedItemsChange:function(e){var t=Ie(_c.getState());_c.subscribe((function(){var n=Ie(_c.getState()),r=_c.getState().lastAction;"EQUIP_SLOT_SUCCESS"===(null==r?void 0:r.type)&&(e(t,n),t=n)}))},onModsChanged:function(e){_c.subscribe((function(){var t=_c.getState(),n=t.lastAction;if("ATTACH_UPGRADE_SUCCESS"===(null==n?void 0:n.type)||"DETACH_UPGRADE_SUCCESS"===(null==n?void 0:n.type)){var r=De(t),o=r.upgrades;e(r,o)}}))}};window.loadouts={render:kc,actions:Sc,subscribe:Cc}},1594:function(e){e.exports=React},5206:function(e){e.exports=ReactDOM}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[96],(function(){return t(6603),t(8401)}));e.O()}]);
//# sourceMappingURL=app.e1672343f941e26c7ab5.js.map