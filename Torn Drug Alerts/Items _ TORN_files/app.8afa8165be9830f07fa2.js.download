!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="03411aa1-4814-42af-8bbc-8b641762cb84",e._sentryDebugIdIdentifier="sentry-dbid-03411aa1-4814-42af-8bbc-8b641762cb84")}catch(e){}}(),("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"master@952a2eac37f09c6ad92401841c8bb1773a9fc628"},(self.webpackChunk_torn_item_info=self.webpackChunk_torn_item_info||[]).push([[524],{8410:function(e,t,r){var n,o=r(1594),a=r.n(o),i=r(5873),l=(r(3416),r(9870)),c=r.n(l),u=r(3758),s=r.n(u),d=[["","1x"],["@2x","2x"],["@3x","3x"],["@4x","4x"]],p=function(e,t){return d.map((function(r){var n=r[0],o=r[1];return"".concat(e).concat(n,".").concat(t," ").concat(o)})).join(", ")},m=function(e,t){return r="/images/items/".concat(e,"/").concat(t),n="png",{src:"".concat(r,".").concat(n),srcSet:p(r,n)};var r,n},f=(0,o.createContext)({}),h=function(){return(0,o.useContext)(f)},v=Symbol("loadScript"),y=new(function(){function e(){Object.defineProperty(this,"scriptPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"api",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,v,{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return this.scriptPromise||(this.scriptPromise=new Promise((function(n){var o=document.createElement("script");o.type="text/javascript",o.onload=function(){r.api=window.google,r.api.charts.load(e,t),r.api.charts.setOnLoadCallback((function(){n()}))},o.src="https://www.gstatic.com/charts/loader.js",document.body.appendChild(o)}))),this.scriptPromise}}),Object.defineProperty(e.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return this[v](e,t).then((function(){r.api.charts.load(e,t),r.api.charts.setOnLoadCallback(t.callback)}))}}),e}()),g=r(9067),w=r.n(g),_={preloader:"preloader___q3upb",dots:"dots___qyoIX",dot:"dot___sd1Ku",bounceDot:"bounceDot___reLHi","dot-1":"dot-1___UKHKq","dot-2":"dot-2___H9vh3","dot-3":"dot-3___JOyyS","dot-4":"dot-4___rW74i"},b=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return a().createElement("div",{className:c()(_.preloader,"tornPreloader")},a().createElement("div",{className:_.dots},[1,2,3,4].map((function(t,r){return a().createElement("span",{key:r,className:c()("".concat(_.dot," ").concat(_["dot-".concat(r+1)]),e.props.customDotClass)})}))))}}),t}(o.Component),C=E;E.propTypes={customDotClass:w().string};var N="chart___G_t_M",O="chartArea___cHcRt",P="firstRow___NyBMe",x="preloader___XBCrb",k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],I={light:{height:155,backgroundColor:"#fff",lineColor:"#9ac5d3",lineWidth:4,gridlinesColor:"#dfdfdf",textColor:"#545454",backgroundOpacity:.5,backgroundFill:"#dfdfdf",backgroundStroke:"#dfdfdf"},dark:{height:155,backgroundColor:"#242424",lineColor:"#9ac5d3",lineWidth:2,gridlinesColor:"#545454",textColor:"#ccc",backgroundOpacity:.8,backgroundFill:"#333",backgroundStroke:"#545454"}},S=function(){return a().createElement("div",{className:x},a().createElement(C,null))},D={Value:{label:"Average market value",format:function(e){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e)}},Circ:{label:"Total in circulation",format:function(e){return Intl.NumberFormat("en-US").format(e)}}},R=function(e){return D[e]},j=function(e,t,r){return"\n  <div class='".concat(P,"'>").concat(function(e){return"".concat(e.getDate()," ").concat(k[e.getMonth()]," '").concat(e.getFullYear().toString().slice(2))}(e),"</div>\n  <div>").concat(r,": ").concat(t,"</div>\n")},W=function(e){var t=(0,o.useRef)(null),r=h(),n=I[r.theme],i=(0,o.useState)(!0),l=i[0],c=i[1],u=function(){c(!1);var r=new y.api.visualization.DataTable;r.addColumn("date","X"),r.addColumn("number","X"),r.addColumn({type:"string",role:"tooltip",p:{html:!0}}),r.addRows(e.rows.map((function(t){var r=t[0],n=t[1];return[new Date(1e3*r),n,j(new Date(1e3*r),R(e.chartPropertyName).format(n),R(e.chartPropertyName).label)]}))),new y.api.visualization.AreaChart(t.current).draw(r,function(e,t,r){return{legend:{position:"none"},tooltip:{isHtml:!0},areaOpacity:.2,dataOpacity:.5,lineWidth:e.lineWidth,height:e.height,backgroundColor:e.backgroundColor,hAxis:{gridlines:{color:e.gridlinesColor},textStyle:{fontSize:10,color:e.textColor},format:"MMM d\ny",maxTextLines:3},vAxis:{gridlines:{color:e.gridlinesColor},textStyle:{fontSize:10,color:e.textColor},minValue:t,maxValue:r},chartArea:{top:15,left:50,right:14,height:100,backgroundColor:{fillOpacity:e.backgroundOpacity,fill:e.backgroundFill,stroke:e.backgroundStroke,strokeWidth:2}},colors:[e.lineColor]}}(n,e.min,e.max))};return(0,o.useEffect)((function(){try{y.load("current",{packages:["corechart","line"],callback:u})}catch(e){console.error(e)}}),[e.rows,r.theme,e.wrapperWidth]),a().createElement("div",{className:N,style:{height:n.height}},a().createElement("div",{ref:t,className:O}),(e.loading||l)&&a().createElement(S,null))},M=r(750),L=r.n(M),A="periodSwitchWrapper___ZfWnL",B="periodSwitch___BYT0r",H="optionWrapper___BWNbL",T="narrow___QVOxA",F="radioBtn___Zyod2",J=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return J(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this.props,r=t.id,n=t.name,o=t.value,i=t.checked,l=t.label,u=t.containerClassName,s=t.onChange,d=t.theme;return a().createElement("div",{className:u},a().createElement("input",{id:r,className:c()("radio-css",(e={},e["".concat(d,"-bg")]=d,e)),type:"radio",name:n,value:o,checked:i,onChange:s}),a().createElement("label",{className:"marker-css",htmlFor:r},l))}}),Object.defineProperty(t,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{containerClassName:"choice-container"}}),t}(o.Component),U=q,z=function(e){var t,r=h();return a().createElement("div",{className:A},a().createElement("ul",{role:"tablist","aria-label":"Show chart period for item ".concat(e.chartPropertyName),className:c()(B,(t={},t[T]=r.isNarrowLayout,t))},e.options.map((function(t){return a().createElement("li",{role:"tab","aria-selected":t===e.currentPeriod,className:H,key:t},a().createElement(U,{checked:t===e.currentPeriod,id:"period-switch-".concat(L()(t)),label:t,name:"period",value:t,containerClassName:c()(F,"t-overflow"),onChange:function(t){return e.onSelect(t.target.value)}}))}))))},Z="chartWrapper___L4iqo",V=r(9677),X=r.n(V),Y={};var Q=r(5810),G=r.n(Q),K=r(3741),$=r.n(K),ee=r(7144),te=function(e,t){var r={credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}};if(t)if(r.method="post","JSON"===e)Object.assign(r.headers,{Accept:"application/json","Content-Type":"application/json"}),r.body=JSON.stringify(t);else r.body=function(e){var t=new FormData;return Object.keys(e).forEach((function(r){var n=typeof e[r];["number","string"].includes(n)?t.append(r,e[r]):t.append(r,JSON.stringify(e[r]))})),t}(t);return r},re=function(e,t,r){var n=void 0===r?{}:r,o=n.bodyType,a=void 0===o?"FormData":o,i=n.addRFC,l=(void 0===i||i)&&window.addRFC?window.addRFC(e):e,c=te(a,t);return fetch(l,c).then((function(e){if(403===e.status)throw new Error("Access Forbidden");return e.text().then((function(t){try{if(403===e.status)return{};var r=t&&"null"!==t?JSON.parse(t):{};return r.bh_redirect?(window.location.replace(r.bh_redirect),{}):r}catch(e){throw function(e){var t={credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}};e&&(t.method="post",t.body=JSON.stringify({desc:window.location.href,data:e})),fetch("/loader.php?sid=setClientLog",t)}({desc:window.location.href,error:e&&e.toString(),responce:t}),new Error("Malformed response")}}))})).catch((function(e){throw e}))},ne=((0,ee.A)(2,(function(e,t,r,n){return $()(e,re)(t,r,n)})),{"Last month":"month","Last 3 month":"month3","Last 6 month":"month6","Last 1 year":"month12","Last 3 years":"month36","All time":"alltime"}),oe={Value:"value_chart",Circ:"circulation_chart"},ae=function(e,t,r){var n={step:"chartData",itemID:e,type:oe[t],period:ne[r]},o="/imarket.php?".concat(G().stringify(n));return re(o)},ie=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function l(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}c((n=n.apply(e,t||[])).next())}))},le=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},ce=Object.keys(ne),ue=function(e){var t=h().chartPropertyName,r=ce[0],n=(0,o.useState)(r),a=n[0],i=n[1],l=function(e,t){var r=(0,o.useState)((function(){var r;return null!==(r=Y[e])&&void 0!==r?r:t})),n=r[0],a=r[1];return(0,o.useEffect)((function(){var r;a(null!==(r=Y[e])&&void 0!==r?r:t)}),[e]),[n,(0,o.useCallback)((function(t){Y[e]=t,a(t)}),[e])]}("chart".concat(e.itemID).concat(X()(t)).concat(X()(a)),null),c=l[0],u=l[1],s=(0,o.useState)(!1),d=s[0],p=s[1];return(0,o.useEffect)((function(){i(r)}),[t]),(0,o.useEffect)((function(){ie(void 0,void 0,void 0,(function(){var r;return le(this,(function(n){switch(n.label){case 0:return c?[3,2]:(p(!0),[4,ae(e.itemID,t,a)]);case 1:r=n.sent(),u(r),p(!1),n.label=2;case 2:return[2]}}))}))}),[c]),{periods:ce,currentPeriod:a,setCurrentPeriod:i,data:c,loading:d}},se=function(e){var t,r,n,o,i=h(),l=ue({itemID:e.itemID});return a().createElement("div",{id:"wai-chart-".concat(i.chartPropertyName),className:Z},a().createElement(z,{options:l.periods,chartPropertyName:i.chartPropertyName,currentPeriod:l.currentPeriod,onSelect:l.setCurrentPeriod}),a().createElement(W,{rows:null!==(r=null===(t=l.data)||void 0===t?void 0:t.data)&&void 0!==r?r:[],min:null===(n=l.data)||void 0===n?void 0:n.min,max:null===(o=l.data)||void 0===o?void 0:o.max,chartPropertyName:i.chartPropertyName,loading:l.loading,wrapperWidth:e.wrapperWidth}))},de="closeBtn___HDUu9",pe=function(){return a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"},a().createElement("g",null,a().createElement("path",{d:"m12,10.09l-4.16-4.1L11.94,1.85l-1.85-1.85-4.11,4.16L1.83.06,0,1.89l4.16,4.12L.06,10.17l1.83,1.83,4.12-4.16,4.14,4.1,1.85-1.85Z",fill:"currentColor"})))},me=function(e){return a().createElement("button",{type:"button","data-close-button":!0,"aria-label":"Close item info for ".concat(e.itemName),className:de,onClick:e.onClick},a().createElement(pe,null))},fe=(r(3655),r(4713)),he=r(8684),ve=r(6584),ye=function(){return ye=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ye.apply(this,arguments)},ge=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},we={tooltip:"tooltip___aWICR",arrow:"arrow___yUDKb",arrowIcon:"arrowIcon___KHyjw",top:"top___klE_Y",bottom:"bottom___mz2Ax",left:"left___tHl8x",right:"right___ngRJq"},_e=function(e){return a().createElement("div",{className:c()(we.arrow,we[e.placement]),ref:e.arrowRef,style:(t=e.stylesData,r=t.x,n=t.y,{left:null!=r?r:"",top:null!=n?n:""})},a().createElement("div",{className:c()(we.arrowIcon,e.customClass)}));var t,r,n},be=r(4604),Ee=function(){return Ee=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ee.apply(this,arguments)},Ce=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},Ne=function(e){var t,r,n=e.children,i=e.content,l=Ce(e,["children","content"]),u=function(e){var t,r,n,a,i,l,c=(0,o.useState)(!1),u=c[0],s=c[1],d=(0,o.useRef)(null);(0,o.useEffect)((function(){void 0!==e.forcedIsOpen&&s(e.forcedIsOpen)}),[e.forcedIsOpen]);var p=fe.useFloating({open:u,onOpenChange:s,whileElementsMounted:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return he.ll.apply(fe,ge(ge([],e,!1),[{animationFrame:!0}],!1))},placement:null!==(t=e.placement)&&void 0!==t?t:"top",middleware:[ve.cY(null!==(r=e.offset)&&void 0!==r?r:10),ve.UU(),ve.BN({padding:null!==(n=e.padding)&&void 0!==n?n:10}),ve.UE({element:d}),ve.jD({elementContext:"floating",altBoundary:!0,padding:null!==(a=e.hidePadding)&&void 0!==a?a:32}),e.useEscapeStrategy&&ve.jD({strategy:"escaped"})]}),m=p.x,f=p.y,h=p.strategy,v=p.refs,y=p.middlewareData,g=p.placement,w=p.context,_=fe.useTransitionStyles(ye(ye({},w),{open:w.open&&!(!0===(null===(i=y.hide)||void 0===i?void 0:i.referenceHidden)||!0===(null===(l=y.hide)||void 0===l?void 0:l.escaped))}),{duration:200}),b=_.isMounted,E=_.styles;return{x:m,y:f,strategy:h,refs:v,middlewareData:y,placement:g,context:w,arrowRef:d,isOpen:u,setIsOpen:s,animationInProgress:b,animationStyles:E}}({placement:l.placement,offset:l.offset,padding:l.padding,hidePadding:l.hidePadding,useEscapeStrategy:l.useEscapeStrategy,forcedIsOpen:l.forcedIsOpen}),s=u.x,d=u.y,p=u.strategy,m=u.refs,f=u.middlewareData,h=u.placement,v=u.context,y=u.isOpen,g=u.animationInProgress,w=u.arrowRef,_=u.animationStyles,b=function(e,t){var r=t.clickable,n=t.role,o=void 0===n?"tooltip":n,a=t.delay;return(0,fe.useInteractions)([(0,fe.useHover)(e,{mouseOnly:!0,handleClose:r&&(0,fe.safePolygon)(),delay:a}),(0,fe.useClick)(e,{ignoreMouse:!0}),(0,fe.useFocus)(e),(0,fe.useRole)(e,{role:o}),(0,fe.useDismiss)(e)])}(v,{clickable:l.clickable,role:l.role,delay:l.delay}),E=b.getReferenceProps,C=b.getFloatingProps;return a().createElement(a().Fragment,null,a().cloneElement(n,Ee(Ee({ref:m.setReference},(0,be.v)(E(),n.props)),{"data-is-tooltip-opened":y?"true":"false"})),Boolean(i)&&(y||g)&&a().createElement(fe.FloatingPortal,null,a().createElement("div",Ee({ref:m.setFloating,className:c()(we.tooltip,null===(t=l.customClasses)||void 0===t?void 0:t.tooltipCustomClass),style:Ee(Ee({},_),{position:p,top:null!=d?d:0,left:null!=s?s:0})},C()),i instanceof Function?i():i,a().createElement(_e,{placement:h,arrowRef:w,stylesData:f.arrow||{},customClass:null===(r=l.customClasses)||void 0===r?void 0:r.tooltipArrowCustomClass}))))},Oe="root___lm6Fi",Pe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xe=function(e){function t(t){var r=e.call(this,t)||this;return r.state={hasError:!1},r}return Pe(t,e),Object.defineProperty(t,"getDerivedStateFromError",{enumerable:!1,configurable:!0,writable:!0,value:function(){return{hasError:!0}}}),Object.defineProperty(t.prototype,"componentDidCatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){console.error("ErrorBoundary caught an error",e,t)}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.state.hasError?a().createElement("div",{className:Oe},a().createElement(Ne,{placement:"bottom-end",offset:-50,content:a().createElement(a().Fragment,null,a().createElement("p",null,"Item model could not be loaded"),a().createElement("p",null,"Your browser does not support 3D rendering"))},a().createElement("img",{style:{width:this.props.width,height:this.props.height},src:"/images/items/".concat(this.props.modelID,"/large@4x.png"),alt:""}))):this.props.children}}),t}(o.Component),ke=r(5062),Ie=r(4762),Se=r(8087),De=r(9511),Re=r(3206),je={width:372,height:186},We=Math.PI/180,Me="3D",Le="scene___OExEy",Ae="dark___cJApc",Be="modelPlaceholder___r6Zmy",He=function(e){var t,r=e.modelID,n=e.dimensions,i=void 0===n?je:n,l=e.enableAxesHelper,u=void 0!==l&&l,s=e.view,d=void 0===s?"2D":s,p=e.disableModelLight,m=void 0!==p&&p,f=e.modelPosition,h=void 0===f?null:f,v=e.initRotatingAngle,y=void 0===v?d===Me?34.5:0:v,g=e.rotatingEnabled,w=void 0===g||g,_=e.getImage,b=void 0===_?function(){}:_,E=e.snap,C=void 0!==E&&E,N=e.setSnap,O=void 0===N?function(){}:N,P=e.theme,x=void 0===P?null:P,k=e.glowClass,I=e.hdri,S=void 0===I?"":I,D=e.hide3D,R=void 0!==D&&D,j=(0,o.useRef)(null),W=(0,o.useRef)(null),M=(0,o.useRef)(null),L=(0,o.useRef)(null),A=(0,o.useRef)(null),B=(0,o.useRef)(null),H=(0,o.useRef)(null),T=(0,o.useRef)(null),F=(0,o.useRef)(y),J=(0,o.useRef)(!1),q=(0,o.useRef)(.07),U=(0,o.useState)(!1),z=U[0],Z=U[1];(0,o.useEffect)((function(){try{W.current=new ke.Z58,M.current=new ke.ubm(45,i.width/i.height,1,1e3),H.current=new De.B,T.current=new Se.Z,T.current.setDecoderPath("/js/script/lib/draco-decoder/"),H.current.setDRACOLoader(T.current),L.current=new ke.JeP({antialias:!0})}catch(e){console.error(e),Z(!1)}}),[]),(0,o.useEffect)((function(){J.current=C}),[C]);var V=(0,o.useCallback)((function(){var e,t,r;h&&B.current&&(B.current.position.x=null!==(e=null==h?void 0:h.x)&&void 0!==e?e:B.current.position.x,B.current.position.y=null!==(t=null==h?void 0:h.y)&&void 0!==t?t:B.current.position.y,B.current.position.z=null!==(r=null==h?void 0:h.z)&&void 0!==r?r:B.current.position.z)}),[null==h?void 0:h.x,null==h?void 0:h.y,null==h?void 0:h.z]),X=(0,o.useCallback)((function(){B.current&&(B.current.rotation.y=We*y)}),[y]),Y=function(){q.current=1.07},Q=function(){q.current=.07},G=function(e){var t,r,n,o,a,i,l,c,u,s,d;null===(t=e.map)||void 0===t||t.dispose(),null===(r=e.lightMap)||void 0===r||r.dispose(),null===(n=e.aoMap)||void 0===n||n.dispose(),null===(o=e.emissiveMap)||void 0===o||o.dispose(),null===(a=e.bumpMap)||void 0===a||a.dispose(),null===(i=e.normalMap)||void 0===i||i.dispose(),null===(l=e.displacementMap)||void 0===l||l.dispose(),null===(c=e.roughnessMap)||void 0===c||c.dispose(),null===(u=e.metalnessMap)||void 0===u||u.dispose(),null===(s=e.alphaMap)||void 0===s||s.dispose(),null===(d=e.envMap)||void 0===d||d.dispose()},K=function(){var e,t;null===(e=B.current)||void 0===e||e.traverse((function(e){var t,r;e.isMesh&&(null===(t=e.geometry)||void 0===t||t.dispose(),Array.isArray(e.material)?e.material.forEach(G):G(e.material),null===(r=e.material)||void 0===r||r.dispose())})),null===(t=W.current)||void 0===t||t.remove(B.current),B.current=null};(0,o.useEffect)((function(){z&&V()}),[V,z]),(0,o.useEffect)((function(){z&&X()}),[X,z]);var $=(0,o.useCallback)((function(){S&&(new Re.Y).load("/images/items/light/".concat(S),(function(e){var t=new ke.BdL(L.current);W.current.environment=t.fromEquirectangular(e).texture,e.dispose(),t.dispose()}))}),[S]),ee=(0,o.useCallback)((function(){B.current&&w&&(F.current>=360?F.current=q.current:F.current+=q.current,B.current.rotation.y=We*F.current)}),[w]);return(0,o.useEffect)((function(){w||B.current&&!w&&(F.current=y,B.current.rotation.y=We*F.current)}),[w]),(0,o.useEffect)((function(){M.current.aspect=i.width/i.height,M.current.updateProjectionMatrix(),L.current.setSize(i.width,i.height)}),[i.width,i.height]),(0,o.useEffect)((function(){var e;window.devicePixelRatio<2?L.current.setPixelRatio(2*window.devicePixelRatio):L.current.setPixelRatio(window.devicePixelRatio),L.current.autoClear=!0,L.current.setClearColor(16777215,0),L.current.outputColorSpace=ke.er$,L.current.toneMapping=ke.nNL,j.current&&j.current.appendChild(L.current.domElement),M.current.position.y=d===Me?7:0,M.current.position.x=22,M.current.position.z=0,M.current.lookAt(0,0,0),M.current.setFocalLength(80),M.current.updateProjectionMatrix(),"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)&&(window.createImageBitmap=void 0),u&&(e=new ke.IzY(75),W.current.add(e)),$()}),[$]),(0,o.useEffect)((function(){var e=function(){A.current=requestAnimationFrame(e),ee(),L.current.render(W.current,M.current),J.current&&(b(L.current.domElement.toDataURL()),O(!1))};if(Ie.A.isWebGL2Available())try{e()}catch(e){console.log(e),Z(!1)}else{var t=Ie.A.getWebGLErrorMessage();j.current.appendChild(t)}return function(){cancelAnimationFrame(A.current),A.current=null}}),[ee]),(0,o.useEffect)((function(){var e;return null!==r&&(e="/images/items/".concat(r,"/model.glb"),Z(!1),H.current.load(e,(function(e){K(),B.current=e.scene,B.current.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!1),m&&e.isLight&&(e.intensity=0)})),F.current=y,d===Me&&(B.current.rotation.y=We*F.current),V(),W.current.add(B.current),Z(!0)}),void 0,(function(e){console.error(e)}))),function(){K()}}),[r]),(0,o.useEffect)((function(){B.current&&(B.current.visible=!R)}),[R]),a().createElement("div",{className:"item-model-player",onMouseDown:Y,onMouseUp:Q,onMouseLeave:Q,onTouchStart:Y,onTouchEnd:Q,onContextMenu:function(e){return e.preventDefault()}},a().createElement("div",{style:{width:i.width,height:i.height},className:c()(Le,(t={},t[Ae]=x,t),k),ref:j}),(R||!z)&&a().createElement("img",{className:Be,src:"/images/items/".concat(r,"/large@4x.png"),alt:""}))},Te=function(){return Te=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Te.apply(this,arguments)};var Fe="itemPreview___CHAPv",Je=(0,o.memo)((function(e){return a().createElement(xe,{width:e.dimensions.width,height:e.dimensions.height,modelID:e.modelID},a().createElement(He,Te({},e)))})),qe=function(e){var t=e.width,r=e.height,n=(0,o.useMemo)((function(){return{width:t,height:r}}),[t,r]);return a().createElement("div",{className:c()(Fe,e.customClass),style:{height:e.containerHeight}},t&&r?a().createElement(Je,{modelID:e.itemID,dimensions:n,view:e.view,glowClass:e.glowClass,modelPosition:e.modelPosition,initRotatingAngle:e.initRotatingAngle,hdri:e.modelHdri}):null)},Ue=r(6005),ze=r.n(Ue),Ze=r(3981),Ve=r.n(Ze),Xe=r(2781),Ye=r.n(Xe),Qe=function(){return a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15.99",height:"13.71",viewBox:"0 0 15.99 13.71"},a().createElement("g",null,a().createElement("path",{d:"m.55,7.92l1.09.27.82-1.3-1.56-.38c-.39-.08-.77.17-.86.56-.08.37.14.74.51.84m14.24.21l-3.57,3.2-4.22-3.24c-.08-.04-.16-.08-.25-.1l-.56-.14-.82,1.25.88.21,4.55,3.52c.27.22.67.22.94,0l4-3.61c.28-.27.31-.71.05-1-.28-.26-.72-.26-1,0m-7.8-3.62l3.87,2.49c.33.22.77.13,1-.19L15.86,1.12c.23-.32.15-.76-.17-.99,0,0,0,0-.01,0-.33-.22-.77-.14-1,.18l-3.62,5.2-3.94-2.51c-.16-.1-.36-.14-.55-.1-.19.05-.35.16-.46.32L.11,12.6c-.21.34-.11.79.23,1,.12.08.25.11.39.11.25,0,.48-.12.61-.33L7,4.61Z",fill:"currentColor"})))},Ge=function(){return a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"9.5",viewBox:"0 0 16 12.67"},a().createElement("g",null,a().createElement("path",{d:"m13.52,0l-7.52,7.71-3.52-3.34L0,6.85l6,5.82L16,2.48l-2.48-2.48Z",fill:"currentColor"})))},Ke={propertyBar:"propertyBar___Ry0SZ",grayBar:"grayBar___tySnj",colorBar:"colorBar___oTCRw",gray:"gray___JNU3R",red:"red___xQbm1",purple:"purple___d7TQW",orange:"orange___vmkQe",blue:"blue___PG4AQ",brown:"brown___W7G1d","dark-blue":"dark-blue___ZQB9_",green:"green___iZByj"},$e=function(e){var t;return a().createElement("div",{className:Ke.propertyBar},a().createElement("div",{className:c()(Ke.grayBar,Ke.gray)},a().createElement("div",{className:c()(Ke.colorBar,e.color&&Ke[e.color]),style:{width:"".concat(null!==(t=e.width)&&void 0!==t?t:0,"%")}})))},et="chartBtn___k8nMJ",tt="expanded___pheaS",rt=function(e){var t=h(),r=e.title===t.chartPropertyName;return a().createElement("button",{type:"button","aria-label":"open chart for ".concat(e.title),"aria-expanded":r,"aria-controls":"wai-chart-".concat(e.title),className:c()(et,r&&tt),onClick:function(){return t.onShowChart(e.title)}},e.children)},nt={propertyWrapper:"propertyWrapper___xSOH1",property:"property___hqXXN",propertyWithBar:"propertyWithBar___MQPTB",title:"title___DbORn",valueWrapper:"valueWrapper___vVHLn",space:"space___rCasO","bonus-decrease":"bonus-decrease___oF689","bonus-increase":"bonus-increase___Gepfn",rarity:"rarity___bDCDD",yellow:"yellow____OBsJ",orange:"orange___fB7W0",red:"red___aRCJB"},ot=function(e){return a().createElement("li",{className:c()(nt.propertyWrapper,e.customWrapperClass)},a().createElement("div",{className:c()(nt.property,e.customClass)},e.children))},at=function(e){var t;return a().createElement("span",{className:c()({"t-overflow":null===(t=e.truncate)||void 0===t||t}),dangerouslySetInnerHTML:{__html:e.value}})},it=function(e){return a().createElement("span",{className:c()(nt.title,e.withBar&&"t-overflow")},e.title?"".concat(e.title,":"):"")},lt=function(e){var t=ze()(e.color);return e.color&&a().createElement("span",{className:c()(nt.rarity,nt[e.color])},a().createElement("span",null,Ve()(t)),a().createElement("span",null,Ye()(t)))},ct=function(e){var t=function(e){return e&&a().createElement("span",{className:"ui-tooltip-content",dangerouslySetInnerHTML:{__html:e}})};switch(e.type){case"bar":return a().createElement(ot,{customWrapperClass:e.customClass,customClass:nt.propertyWithBar},a().createElement(it,{withBar:!0,title:e.title}),a().createElement(Ne,{content:t("".concat(e.width,"%"))},a().createElement("div",{className:c()(nt.valueWrapper,"t-overflow")},a().createElement($e,{width:e.width,color:e.color}))));case"value":return a().createElement(ot,{customWrapperClass:e.customClass},a().createElement(rt,{title:e.title},a().createElement(it,{title:e.title}),a().createElement("div",{className:c()(nt.valueWrapper,"t-overflow")},a().createElement(at,{value:e.value})),a().createElement(Qe,null)));case"circ":return a().createElement(ot,{customWrapperClass:e.customClass},a().createElement(rt,{title:e.title},a().createElement(it,{title:e.title}),a().createElement("div",{className:c()(nt.valueWrapper,"t-overflow")},a().createElement(at,{value:e.value}),a().createElement(Ne,{content:t(e.rareTitle)},a().createElement("i",{className:c()("".concat(e.rareIcon,"-icon"))}))),a().createElement(Qe,null)));case"read":return a().createElement(ot,{customWrapperClass:e.customClass},a().createElement(it,{title:e.title}),a().createElement("div",{className:c()(nt.valueWrapper,"t-overflow")},a().createElement(at,{value:e.value}),"Yes"===e.value&&a().createElement(Ge,null)));case"bonus":return a().createElement(ot,{customWrapperClass:e.customClass},a().createElement(it,{title:e.title}),a().createElement(Ne,{content:t(e.descTitle)},a().createElement("div",{className:c()(nt.valueWrapper,"t-overflow")},e.icon&&a().createElement("i",{className:e.icon}),a().createElement(at,{value:"".concat(e.rawValue," ").concat(e.value)}))));case"text":return a().createElement(ot,{customWrapperClass:e.customClass},a().createElement(it,{title:e.title}),a().createElement(Ne,{content:t(e.descTitle)},a().createElement("div",{className:c()(nt.valueWrapper,"t-overflow",nt[e.descColor],e.descColor)},e.icon&&a().createElement("i",{className:e.icon}),a().createElement(at,{value:e.value}))));case"quality":return a().createElement(ot,{customWrapperClass:e.customClass},a().createElement(it,{title:e.title}),a().createElement(Ne,{content:t(e.descTitle)},a().createElement("div",{className:c()(nt.valueWrapper,"t-overflow",nt[e.descColor],e.descColor)},e.icon&&a().createElement("i",{className:e.icon}),a().createElement(at,{value:e.value,truncate:!1}),a().createElement("span",{className:nt.space}),a().createElement(lt,{color:e.colorOverlay}))));default:return null}},ut=function(e){return a().createElement(ot,{customWrapperClass:e.customClass})},st="itemInfo___mNZ5j",dt="descriptionWrapper___Lh0y0",pt="legacyImageWrapper___ekdJg",mt="legacyImage___o2PLc",ft="description___xJ1N5",ht="previewAndPropertiesWrapper___hqsZP",vt="properties___pva_l",yt="itemPreview___hiNu9",gt="property___vsfqU",wt="narrow___HjDbE",_t=function(){return _t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_t.apply(this,arguments)},bt=2,Et=4,Ct=2,Nt=function(e){var t=e.propertiesCount,r=e.withModel,n=h(),a=function(){var e=(0,o.useRef)(null),t=(0,o.useState)(),r=t[0],n=t[1],a=(0,o.useMemo)((function(){return new ResizeObserver((function(e){var t=e[0];n(t.target.clientWidth)}))}),[]);return(0,o.useEffect)((function(){return e.current&&a.observe(e.current),function(){return a.disconnect()}}),[e.current]),[e,r]}(),i=a[0],l=a[1],c=null!=l?l:0,u=c<=560,s=(0,o.useMemo)((function(){return function(e){var t=e.propertiesCount,r=e.isNarrowLayout,n=e.layoutWidth,o=e.withModel,a=r?n:n/2,i=a&&a-20,l=.5*i,c=l+20,u=34*Math.ceil(t/(r?Ct:o?bt:Et))-1,s=Math.ceil(c/34),d=r?o?c+u:u:o?u>=c?u:34*s:u;return{layoutHeight:d,previewWidth:i,previewHeight:r?l:d-20,previewContainerHeight:r?c:d,emptyPropertiesCount:2*s-t}}({propertiesCount:t,isNarrowLayout:u,layoutWidth:c,withModel:r})}),[c,t]);return(0,o.useEffect)((function(){n.setIsNarrowLayout(u)}),[u]),[i,_t(_t({},s),{layoutWidth:c,isNarrowLayout:u})]},Ot=function(){return Ot=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ot.apply(this,arguments)},Pt=function(e){var t,r=h(),n=Nt({propertiesCount:e.properties.length,withModel:"None"!==e.modelled}),o=n[0],i=n[1],l=i.layoutWidth,u=i.layoutHeight,d=i.previewWidth,p=i.previewHeight,f=i.previewContainerHeight,v=i.emptyPropertiesCount,y=i.isNarrowLayout;return a().createElement("div",{ref:o,id:e.waiID,className:c()("item-info",{"dark-mode":"dark"===r.theme},st,e.customClass)},a().createElement("div",{className:dt},"None"===e.modelled&&a().createElement("div",{className:pt},a().createElement("span",{className:c()("item-plate",e.glowClass,"".concat(e.glowClass,"-border"))},a().createElement("img",Ot({className:c()(mt,"torn-item large")},m(e.itemID,"large"),{alt:e.itemName})))),a().createElement("div",{className:ft,dangerouslySetInnerHTML:{__html:e.itemInfoContent}})),e.onClose&&a().createElement(me,{itemName:e.itemName,onClick:e.onClose}),a().createElement("div",{className:c()(ht,(t={},t[wt]=y,t)),style:{height:u}},"None"!==e.modelled&&a().createElement(qe,{itemID:e.itemID,customClass:yt,view:e.modelled,width:d,height:p,containerHeight:f,glowClass:e.glowClass,modelPosition:e.modelPosition,initRotatingAngle:e.initRotatingAngle,modelHdri:e.modelHdri}),a().createElement("ul",{className:vt},e.properties.map((function(e){return a().createElement(ct,Ot({key:"bonus"===e.type?e.value:e.title},e,{customClass:gt}))})),s()(v).map((function(e,t){return a().createElement(ut,{key:t,customClass:gt})})))),r.chartPropertyName&&a().createElement(se,{itemID:e.itemID,wrapperWidth:l}))},xt=function(){return xt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xt.apply(this,arguments)},kt=function(e){return xt(xt(xt({},(t=(0,o.useState)(null),r=t[0],n=t[1],{chartPropertyName:r,onShowChart:function(e){return n((function(t){return e!==t?e:null}))}})),function(){var e=(0,o.useState)(!1);return{isNarrowLayout:e[0],setIsNarrowLayout:e[1]}}()),{theme:e});var t,r,n},It="onChangeTornMode";var St=function(e){return e?"dark":"light"},Dt=function(){var e,t,r=(0,o.useState)(St("true"===(e="darkModeEnabled".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1"),(t=document.cookie&&document.cookie.match(new RegExp("".concat("(?:^|; )").concat(e).concat("=([^;]*)"))))&&t[1]?decodeURIComponent(t[1]):void 0))),n=r[0],a=r[1],i=function(e){return a(St(e.detail.checked))};return(0,o.useEffect)((function(){return window.addEventListener(It,i),function(){return window.removeEventListener(It,i)}}),[]),n},Rt=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},jt=function(e){return{type:"text",title:"Sell",value:e.itemSell}},Wt=function(e){return{type:"value",title:"Value",value:e.itemValue}},Mt=function(e){return{type:"circ",title:"Circ",value:e.itemCirculation,rareIcon:e.itemRareIcon,rareTitle:e.itemRareTitle}},Lt=function(e){return"bar"===e.type?function(e){return{type:"bar",title:e.title,width:e.width,color:e.color}}(e):"Read"===e.title?function(e){return{type:"read",title:e.title,value:e.value}}(e):"Quality"===e.title?function(e){return{type:"quality",title:e.title,value:e.value,descColor:e.descColor,descTitle:e.descTitle,icon:e.icon,colorOverlay:e.colorOverlay}}(e):"Bonus"===e.title?function(e){return{type:"bonus",title:e.title,value:e.value,rawValue:e.rawValue,descTitle:e.descTitle,icon:e.icon}}(e):function(e){return{type:"text",title:e.title,value:e.value,descColor:e.descColor,descTitle:e.descTitle,icon:e.icon}}(e)},At=function(e){return Rt([(t=e,{type:"text",title:"Buy",value:t.itemCost}),jt(e),Wt(e),Mt(e)],e.extras.map(Lt),!0);var t},Bt=function(){return Bt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bt.apply(this,arguments)},Ht=function(e){var t,r=Dt();return a().createElement(f.Provider,{value:kt(null!==(t=e.theme)&&void 0!==t?t:r)},a().createElement("img",{src:"/images/items/".concat(e.itemID,"/large@4x.png"),alt:"",style:{display:"none"}}),a().createElement(Pt,Bt({},e)))},Tt=function(){return Tt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tt.apply(this,arguments)};window.renderItemInfo=function(e,t){e&&(0,i.H)(e).render(a().createElement(Ht,Tt({},t)))},window.mapItemInfoProperties=At,window.mapItemInfoProps=function(e){return{itemName:e.itemName,itemID:e.itemID,itemInfoContent:e.itemInfoContent,modelled:e.modelled,modelPosition:e.modelPosition,modelHdri:e.modelHdri,initRotatingAngle:e.initRotatingAngle,properties:At(e),glowClass:e.glowClass,waiID:e.waiID}}},1594:function(e){e.exports=React},5206:function(e){e.exports=ReactDOM},6973:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[96],(function(){return t(6603),t(8410)}));e.O()}]);
//# sourceMappingURL=app.8afa8165be9830f07fa2.js.map